<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>NorthScale Console</title>
<link rel="stylesheet" type="text/css" href="/css/screen.css">
<link rel="stylesheet" type="text/css" href="/css/tabs.css">
<link rel="stylesheet" type="text/css" href="/css/print.css">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!--[if IE]><script language="javascript" type="text/javascript" src="/js/excanvas.min.js"></script><![endif]-->
<!--[if IE 6]>
<link rel="stylesheet" type="text/css" href="/css/ie6.css" />
<![endif]-->
<script src="/js/all.js"></script>
<link rel="stylesheet/less" href="/css/screen.less" type="text/css">
<script src="/js/less.js" type="text/javascript"></script>
</head>
<body class="nojs">
  <div id="validation_notice">Validating...</div>
  <div id="container">
    <div class="page-header">
      <div class="cnt_holder main_holder">
        <div class="topper_nav">
          <a href="javascript:showAbout();">About</a>
          <b>&bull;</b>
          <a href="javascript:ThePage.signOut();" class="sign-out-link">Sign Out</a>
        </div>
        <a href="/index.html"><span>&nbsp;</span></a>
      </div>
    </div> <!-- header -->

    <div id="nojs_alert">Your browser does not support javascript or it is currently disabled. This application requires browsers which meet a minimum standards level with javascript enabled.  See the documentation for details.</div>
    <script type="text/javascript">document.getElementById('nojs_alert').style.display = 'none';</script>
    <div id="mainContainer" class="main_holder">
    <div class="bread_crumbs">
      <ul>
        <li class="nobg"><a href="#">Loading...</a></li>
        <li><a href="#">...</a></li>
        <li>...</li>
      </ul>
    </div>
<table width="100%">
  <tr>
    <td class="leftNav">
      <h1>MONITOR</h1>
      <ul>
        <!--<li class="line"></li>-->
        <li class="line"><a id="switch_overview" href="#sec=overview">Cluster Overview</a></li>
        <li class="line"><a id="switch_monitor_buckets" href="#sec=monitor_buckets">Data Buckets</a></li>
        <li class="line disabled"><!-- a id="switch_monitor_servers" href="#sec=monitor_servers" -->Servers<!-- /a --></li>
        <!-- <li class="line disabled"><a id="switch_alerts" href="#sec=alerts">Alerts</a></li> -->
        <li class="line"><a id="switch_alerts" href="#sec=log">Log</a></li>
      </ul>

      <h1>MANAGE</h1>
      <ul>
        <li class="line"><a id="switch_buckets" href="#sec=buckets">Data Buckets</a></li>
        <li class="line"><a id="switch_servers" href="#sec=servers">Servers</a></li>
      </ul>

      <h1>SETUP</h1>
      <ul>
        <li class="line disabled"><!-- disabled for beta1 a id="switch_settings" href="#sec=settings"  -->Settings<!-- /a --></li>
      </ul>

      <h1>SUPPORT</h1>
      <ul>
        <li class="line"><a id="switch_support_docs" href="/docs/index_CSH.html#1002|northscale" target="MCWebHelp">Documentation</a></li>
        <li class="line"><a id="switch_support_forums" href="http://forums.northscale.com/" target="nsforums">Support Forums</a></li>
        <li class="line"><a id="switch_support_suggest" href="http://forums.northscale.com/" target="nsforums">Suggest a Feature</a></li>
      </ul>
    </td>
    <td id="mainPanel">

		<div id="monitor_servers" style="display:none">
			<h1>Monitor Servers</h1>

			<div class="shadow_box"><div class="top"><div><div>&nbsp;</div></div></div><div class="cnt"><div class="pad"><div class="content">
			<div class="hdr">Server Issues <span>(1 server)</span></div>
				<div class="panes">
					<div>
						<div id="" class="servers-not-rebalancing servers_list">
							<ul>
								<li class="server_row server_down">
									<a class="serverName" href="#">west1.campus.disney.com</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div></div></div><div class="bottom"><div><div>&nbsp;</div></div></div></div>

			<div class="shadow_box"><div class="top"><div><div>&nbsp;</div></div></div><div class="cnt"><div class="pad"><div class="content">
			<div class="hdr">
				Pending Servers <span>(3 servers)</span>
				<div class="err">
					<p>Fail Over Warning: Your system is missing replicants until your rebalance</p>
					<p>Warning: You are nearly out of disk space</p>
					<i></i><i></i><i></i><i></i>
				</div>
			</div>
				<div class="panes">
					<div>
						<div id="__active_server_list_container" class="servers-not-rebalancing servers_list">
							<!--ul>
								<li class="server_row server_down">
									<a class="serverName" href="#">west1.campus.disney.com</a>
								</li>
							</ul-->
							servers list
						</div>
					</div>
				</div>
			</div></div></div><div class="bottom"><div><div>&nbsp;</div></div></div></div>

			<div class="shadow_box aservers"><div class="top"><div><div>&nbsp;</div></div></div><div class="cnt"><div class="pad"><div class="content">
			<div class="hdr">All Active Servers <span>(50 servers)</span></div>
				<div class="panes">
					<div>
						<div id="" class="servers_list">
							<ul>
								<li class="th">
									<div>Server Name</div>
									<div>CPU Load %</div>
									<p>Free Disk Space</p>
								</li>
								<li class="server_row status_up">
									<a class="serverName" href="#">west1.campus.disney.com</a>
									<div>
										<div class="usage_small"><div class="side_shadow"><div class="unused">
											<div class="used" style="width:90%"></div>
										</div></div></div>
										<span>90%</span>
									</div>
									<div class="fdp">
										<div class="usage_small"><div class="side_shadow"><div class="unused">
											<div class="used" style="width:20%"></div>
										</div></div></div>
										<span>300 Gb free</span>
									</div>
								</li>
								<li class="server_row status_up">
									<a class="serverName" href="#">west1.campus.disney.com</a>
									<div>
										<div class="usage_small"><div class="side_shadow"><div class="unused">
											<div class="used" style="width:40%"></div>
										</div></div></div>
										<span>40%</span>
									</div>
									<div class="fdp">
										<div class="usage_small"><div class="side_shadow"><div class="unused">
											<div class="used" style="width:60%"></div>
										</div></div></div>
										<span>120 Gb free</span>
									</div>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div></div></div><div class="bottom"><div><div>&nbsp;</div></div></div></div>

			<p class="info"><a href="#">Show All</a> (showing 5 of 50 servers)</p>

		</div><!-- id -->
	
      <div id="overview" style="display:none">
      <!-- shadow box -->
      <h1>CLUSTER OVERVIEW</h1>
        <div id="notice_container"></div>
        <div class="shadow_box"><div class="top"><div><div>&nbsp;</div></div></div><div class="cnt"><div class="pad"><div class="content">
	<div class="hdr">Cluster</div>
	<div class="section" id="overview_clusters_block">
		<div class="item ram-item">
			<div class="label">
				<strong>RAM Overview</strong>
			</div>
			<div class="line_cnt">
				<div class="usage_total">Total in Cluster (<span class="cluster-total"></span>)</div>
				<div class="total_alloc">Total Allocated (<span class="buckets-quota"></span>)</div>
				<div class="usage_biggest">
                                        <div class="whole"></div>
					<div class="free" style="width:60%;"><i></i></div>
					<div class="used" style="width:40%;"></div>
				</div>
				<table><tr>
					<td>In use (<span class="used-quota"></span>)</td>
					<td>Unused (<span class="unused-quota"></span>)</td>
					<td>Unallocated (<span class="quota-free"></span>)</td>
				</tr></table>
			</div>
		</div>
		<div class="item disk-item">
			<div class="label">
				<strong>Disk Overview</strong>
			</div>
			<div class="line_cnt">
				<div class="usage_total">Total Cluster Storage (<span class="cluster-total"></span>)</div>
				<div class="total_alloc">Other + Total Allocated (<span class="buckets-quota"></span>)</div>
				<div class="usage_biggest">
                                        <div class="whole"><b></b></div>
					<div class="free" style="width:60%;"><i></i></div>
					<div class="used" style="width:40%;"></div>
                                        <div class="other" style="width:20%;"></div>
				</div>
				<table><tr>
                                        <td>Other data (<span class="other-data"></span>)</td>
					<td>In use (<span class="used-quota"></span>)</td>
					<td><span class="when-normal">Unused</span><span class="when-overcommit">Unused and available</span> (<span class="unused-quota"></span>)</td>
					<td><span class="when-normal">Unallocated</span><span class="when-overcommit">Overcommitted</span> (<span class="quota-free"></span>)</td>
				</tr></table>
			</div>
		</div>
	</div>

        </div></div></div><div class="bottom"><div><div>&nbsp;</div></div></div></div>
        <!-- END shadow box -->
	<div class="shadow_box"><div class="top"><div><div>&nbsp;</div></div></div><div class="cnt"><div class="pad"><div class="content">
	<div class="hdr">Buckets <span>(<span class="buckets-number">??</span> active)</span></div>
	<div class="section">
		<div class="item">
			<div class="graph_main">
	                        <div id="overview_ops_graph" class="graph">
				</div>
				<span class="graph_info_label">Operations per second</span>
			</div>
			<div class="graph_main">
				<div id="overview_reads_graph" class="graph">
				</div>
				<span class="graph_info_label">Disk fetches per second</span>
			</div>
                        <div class="no_stats_marker">Waiting for samples...</div>
		</div>
	</div>
	</div></div></div><div class="bottom"><div><div>&nbsp;</div></div></div></div>
	<div class="shadow_box"><div class="top"><div><div>&nbsp;</div></div></div><div class="cnt"><div class="pad"><div class="content">
	<div class="hdr">Servers</div>
	<div class="section" id="overview_servers_block">
		<div class="item ovf">
			<div class="actservers">
				<h3>Active Servers: <span class="active-servers-count">??</span></h3>
				<!-- <p>CPU Load Max: <b>98%</b></p> -->
				<!-- <p>CPU Load Avg: <b>98%</b></p> -->
				<!-- <p>CPU Load Min: <b>98%</b></p> -->
				<!-- <a href="#">Monitor All Servers</a> -->
			</div>
			<ul>
				<li class="fail"><span class="when-non-zero">
				   <a href="#visitServersTab=pending">Servers Failed Over: <span class="failed-over-count">??</span></a>
					<span class="alert_num"><span class="failed-over-count">??</span></span>
				</span><span class="when-zero">
				   Servers Failed Over: 0
                                </span></li>
				<li class="down"><span class="when-non-zero">
                                   <a href="#visitServersTab=active">Servers Down: <span class="down-count">??</span></a>
                                   <span class="alert_num"><span class="down-count">??</span></span>
                                </span><span class="when-zero">
                                   Servers Down: 0
                                </span></li>
				<li class="pending"><span class="when-non-zero">
                                  <a href="#visitServersTab=pending">Servers Pending Rebalance: <span class="pending-count">??</span></a>
                                   <span class="alert_num"><span class="pending-count">??</span></span>
                                </span><span class="when-zero">
                                   Servers Pending Rebalance: 0
                                </span></li>
			</ul>
		</div>
	</div>
	</div></div></div><div class="bottom"><div><div>&nbsp;</div></div></div></div>
  </div>
  <div id="servers" style="display:none">
    <h1>SERVERS</h1>
    <div class="warning_message failover_warning">
      Fail Over Warning: Your system is missing replicants until you rebalance.
    </div>
    <div class="shadow_box">
      <div class="cnt">
        <div class="content">
          <!-- shadow box -->
            <div class="header_2 servers_header">
            <a class="add_button btn_1"><span>Add Server</span></a>
            <a class="rebalance_button btn_1"><span>Rebalance</span></a>
            <a class="stop_rebalance_button btn_1"><span>Stop Rebalance</span></a>
            <ul class="tabs switcher">
              <li class="tab_left"><a href="#">Active Servers</a></li>
              <li class="tab_right" id="rebalance_tab">
                <a href="#">Pending Rebalance</a>
                <span class="alert_num"><span>1</span></span>
              </li>
            </ul>
          </div>
          <div class="panes">
            <div>
              <div id="active_server_list_container" class="servers-not-rebalancing servers_list"></div>
              <div id="rebalancing_list_container" class="servers-rebalancing"></div>
            </div><div>
              <div id="pending_server_list_container" class="servers_list"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script id="manage_server_list_template" type="text/html">
    <ul>
    <!-- {% if (!rows.length) { %} -->
      <li class="server_row rebalance_empty">
        <span class="rebalance_empty_message">There are no servers pending rebalance.</span>
      </li>
    <!-- {% } %} -->
    <!-- {% _.each(rows, function (s) { %} -->
      <!-- {% if (s.clusterMembership == 'inactiveAdded') { %}-->
      <li class="server_row pending_add {%= s.nodeClass %}">{%= V.setData('server', s) %}
        <a class="serverName" href="#openServer={%= s.otpNode %}">{%= V.stripPort(s.hostname) %}</a>
        <a href="#" class="btn_cancel eject_server">Cancel</a>
        <span class="pending_add_message">Pending Add</span>
      </li>
      <!-- {% } else if (s.pendingEject) { %} -->
      <li class="server_row pending_removal {%= s.nodeClass %}">{%= V.setData('server', s) %}
        <a class="serverName" href="#openServer={%= s.otpNode %}">{%= V.stripPort(s.hostname) %}</a>
        <a href="#" class="btn_cancel remove_from_list">Cancel</a>
        <span class="pending_removal_message">Pending Removal</span>
      </li>
      <!-- {% } else { %} -->
        <!-- {% if (s.reAddPossible) { %} -->
        <li class="add_back_row">{%= V.setData('server', s) %}
          <a href="#" class="add_back_btn re_add_button"></a>
          <span class="add_b_message">This server is now reachable. Do you want to add it back to the cluster on the next rebalance?</span>
        </li>
        <!-- {% } %} -->
      <li class="server_row {%= s.nodeClass %}">{%= V.setData('server', s) %}
        <a href="#openServer={%= h(s.otpNode) %}" class="serverName">{%= V.stripPort(s.hostname) %}</a><a class="list_button btn_width_2 eject_server"><span>Remove Server</span></a><a class="list_button btn_width_1 failover_server"><span>Fail Over</span></a><span class="failed_over_message">Failed Over: Pending Removal</span>
      </li>
      <!-- {% } %} -->
      <li id="{%= h(s.detailsRowID) %}" class="settings-placeholder"></li>
    <!-- {% }); %} -->
    </ul>
  </script>
  <div id="server_details_template" class="template">
                <div class="first gong_rb">
                  <div class="pad">
<!-- disabled for beta1 a class="edit_btn float_right" href="javascript:ServersSection.editServerSettings('{%= h(escapeJS(obj.otpNode)) %}');"></a -->
					<a class="edit_btn float_right disabled">Edit</a>
                    <table class="server_details_tab">
                      <col width="230" />
                      <col width="" />
                      <tr>
                        <td>Server Name: <span>{%= h(hostname) %}</span></td>
                        <td>Uptime: <span>{%= h(formatUptime(uptime)) %}</span></td>
                      </tr>
                      <tr>
                        <td>OS: <span>{%= h(os) %}</span></td>
                        <td>Version: <span>{%= h(version) %}</span></td>
                      </tr>
                    </table>
                  </div>
                  <div class="side side_1"></div><div class="side side_2"></div><div class="side side_3"></div><div class="side side_4"></div>
                </div>
               <span class="additional_server_info">
                <h3>Memory Cache</h3>
                <span class="info_block">
                  <span class="dynamic_ram">Dynamic RAM:</span>
                  <span class="total_ram">Total {%= V.formatQuantity(memoryTotal, 'b', 1024) %}</span>
                  <table class="RAM_diagramm">
                  <col width="" />
                  <col width="" />
                  <col width="" />
                  <col width="" />
                    <tr>
                      <td colspan="4">
                        <span class="diagr_ram">
                          <span class="blue" style="width:1%;">{%= V.thisElement(function (e) {e.css('width', percentReserved + '%')}) %}</span>
                          <span class="yellow" style="width:2%;">{%= V.thisElement(function (e) {e.css('width', percentOther + '%')}) %}</span>
                        </span>
                      </td>
                    </tr>
                    <tr class="diagr_labels">
                      <td class="blue">Membase Quota ({%= V.formatQuantity(memoryReserved, 'b', 1024) %})</td>
                      <td class="yellow">Other ({%= V.formatQuantity(memoryOther, 'b', 1024) %})</td>
                      <td class="right" colspan="2">Free ({%= V.formatQuantity(memoryFree, 'b', 1024) %})</td>
                    </tr>
                  </table>
                </span>
                <h3>Disk Storage</h3>
                <span class="info_block">
                  <span class="disk_storage">
                    Disk One:
                    <span class="path">{%= h(storage.hdd[0].path) %}</span>
                  </span>
                  <span class="total_ram">Total {%= h(V.formatQuantity(storage.hdd[0].memoryTotal, 'b', 1024)) %}</span>
                  <table class="RAM_diagramm">
                  <col width="" />
                  <col width="" />
                  <col width="" />
                  <col width="" />
                    <tr>
                      <td colspan="4">
                        <span class="diagr_ram">
                          <span class="blue" style="width:1%;">{%= V.thisElement(function (e) {e.css('width', storage.hdd[0].usedByDataPercent + '%')}) %}</span>
                          <span class="yellow" style="width:2%;">{%= V.thisElement(function (e) {e.css('width', storage.hdd[0].memoryUsedPercent + '%')}) %}</span>
                        </span>
                      </td>
                    </tr>
                    <tr class="diagr_labels">
                      <td class="blue">Membase Data ({%= h(V.formatQuantity(storage.hdd[0].usedByData)) %})</td>
                      <td class="yellow">Other ({%= V.formatQuantity(storage.hdd[0].memoryUsed, 'b', 1024) %})</td>
                      <td class="right" colspan="2">Free ({%= V.formatQuantity(storage.hdd[0].memoryFree, 'b', 1024) %})</td>
                    </tr>
                  </table>
                </span>
              </span>
  </div>
  <script type="text/html" id="rebalancing_list_template">
    <ul class="servers_list rebalancing">
      <!-- {% _.each(rows, function (server) { %} -->
      <li class="server_row">
        <span class="usage_info">{%= h(server.percent) %}% Complete</span>
        <!-- width attribute of span that is set below is not working properly - needs to be fixed -->
        <span class="server_usage"><span style="width: {%= h(server.percent) %}%;"></span></span>
        <a href="javascript:;" class="serverName">{%= h(server.hostname) %}</a>
      </li>
      <!-- {% }); %}-->
    </ul>
  </script>

  <div id="analytics" style="display:none">
  <span class="block nav float_right configure_view"><a href="javascript:StatGraphs.configureStats();">Configure View</a></span>
        <h1>
                Analytics: <span class="stat_target_name">&nbsp;</span>
        </h1>
        <!-- shadow box -->
        <div class="shadow_box"><div class="top"><div><div>&nbsp;</div></div></div><div class="cnt"><div class="pad"><div class="content">
    <div class="section">
      <h2 class="header_2">
        <span class="block nav float_right">
          <span class="stats-period-container"><span class="with_samples current">Last <b class="stats_visible_period">?</b></span><span class="without_samples current">No samples, yet</span></span>
        </span>
        Live View of <span class="stat_target_name live_view_of">&nbsp;</span>
      <a id="zoom_minute">Minute</a> <a id="zoom_hour">Hour</a>
      <a id="zoom_day">Day</a> <a id="zoom_week">Week</a>
      <a id="zoom_month">Month</a> <a id="zoom_year">Year</a>
          </h2>
      <div class="analytics_graph_main">
        <span class="graph_info_label block right active_node_count"><!-- 3 active nodes --></span>
        <div id="analytics_main_graph_grid">
          <div id="analytics_main_graph"></div>
        </div>
      </div>
      <div class="darker_block graph_nav" id="stats_nav_container"></div>
      <div class="template" id="stats_nav_template">
      {% _.each(rows, function (name) { %}
      <div class="analytics-small-graph" id="analytics_graph_{%= h(name) %}">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      {% }); %}
      <b class="clear">&nbsp;</b>
      </div>
    </div>
        </div></div></div><div class="bottom"><div><div>&nbsp;</div></div></div></div>
        <!-- END shadow box -->
        <h1>Top Keys: <span class="stat_target_name">&nbsp;</span></h1>
        <!-- shadow box -->
        <div class="shadow_box"><div class="top"><div><div>&nbsp;</div></div></div><div class="cnt"><div class="pad"><div class="content">
    <div class="section">
      <h2 class="header_2">
        <span class="block nav float_right">
          <!-- <span class="current">Recent</span> -->
        </span>
        Live View of <span class="stat_target_name live_view_of">&nbsp;</span>
      </h2>
      <p id="top_keys_container">
      </p>
      <div id="top_keys_template" class="template">
        <table>
          <tr>
            <th>Key</th>
            <th>Ops/Sec</th>
          </tr>
          <!-- {% $.each(rows, function () { %} -->
            <tr>
              <td>{%= h(this.name) %}</td>
              <td>{%= h(Math.round(this.ops * 100.0) / 100.0) %}</td>
            </tr>
          <!-- {% }); %} -->
        </table>
      </div>
    </div>
        </div></div></div><div class="bottom"><div><div>&nbsp;</div></div></div></div>
        <!-- END shadow box -->
  </div>

  <div id="monitor_buckets" style="display:none;">
    <!-- shadow box -->
    <h1>Data Buckets</h1>
    <div class="shadow_box"><div class="top"><div><div>&nbsp;</div></div></div><div class="cnt"><div class="pad"><div class="content">
    <div class="darker_block">
        <div class="pad_10">
        </div>
    </div>
    <div id="monitor_buckets_list_container"></div>
    </div></div></div><div class="bottom"><div><div>&nbsp;</div></div></div></div>
    <script id="monitor_buckets_list_template" type="text/html">
        <!-- className 'buckets_tab' goesWith '_' to desable thisStyle forNow -->
        <table class="lined_tab buckets_tab_">
          <col width="" />
          <col width="" />
          <col width="" />
          <col width="135" />
          <col width="" />
          <tr>
            <!-- to display sort arrow correctly you need to switch between "sort_desc" and "sort_asc" classes in span -->
            <th><span>Bucket Name</span></th>
            <th>Ops/sec</th>
            <th>Disk Fetches/sec</th>
            <th>RAM Used</th>
            <th>Item Count</th>
          </tr>
          <!-- {% $.each(rows, function () { %} -->
          <tr>
              <td>
              <a class="gray_link bucket_name_" href="#visitStats={%=h(this.uri)%}">{%= h(this.name) %}</a>
              <!-- className 'bucket_name' goesWith '_' to desable thisStyle forNow -->
              </td>
              <td>{%= h(truncateTo3Digits(this.basicStats.opsPerSec)) %}</td>
              <td>{%= h(truncateTo3Digits(this.basicStats.diskFetches)) %}</td>
              <td>
                <div class="usage_smallest_info">
                    <div class="usage_smallest">
                        <div class="side_shadow">
                            <div class="unused">
                                <div class="used" style="width:1%;"></div>
                            </div>
                        </div>
                    </div>{%= V.setPercentBar(this.basicStats.quotaPercentUsed) %}
                    {%= h(truncateTo3Digits(Math.floor(this.basicStats.quotaPercentUsed * 100) / 100)) %}%
                </div>
              </td>
              <td>{%= h(this.basicStats.itemCount) %}</td>
            </tr>
          <!-- {% }); %} -->
        </table>
    </script>
  </div>

  <div id="buckets" style="display:none">
    <!-- shadow box -->
    <h1>Data Buckets</h1>
    <div class="shadow_box"><div class="top"><div><div>&nbsp;</div></div></div><div class="cnt"><div class="pad"><div class="content">
    <div class="darker_block">
        <div class="pad_10">
            <div class="pat_10 right buckets_action_bar">
                <button class="button_200 create-bucket-button">Create New Data Bucket</button>
            </div>
        </div>
    </div>
    <div id="bucket_list_container">
    </div>
    </div></div></div><div class="bottom"><div><div>&nbsp;</div></div></div></div>
        <!-- END shadow box -->
    <script id="bucket_list_template" type="text/html">
        <table class="lined_tab buckets_tab">
          <col width="" />
          <col width="" />
          <col width="" />
          <col width="135" />
          <col width="" />
          <tr>
            <!-- to display sort arrow correctly you need to switch between "sort_desc" and "sort_asc" classes in span -->
            <th><span>Bucket Name</span></th>
            <th>Bucket Type</th>
            <th>Bucket Resides On</th>
            <th>RAM Used/Quota</th>
            <th>Disk Usage/Quota</th>
          </tr>
          <!-- {% $.each(rows, function () { %} -->
            <tr>
              <td><a class="gray_link bucket_name" href="#visitBucket={%=h(this.name)%}">{%= h(this.name) %}</a></td>
              <td>{%= h(this.bucketTypeName) %} </td>
              <td>{%= V.count(this.serversCount, 'server') %}</td>
              <td>{%= V.formatQuantity(this.basicStats.memUsed) %}/{%= V.formatQuantity(this.quota.ram) %}</td>
              <td>{%= V.formatQuantity(this.basicStats.diskUsed) %}/{%= V.formatQuantity(this.quota.hdd) %}</td>
            </tr>
            <tr id="{%= h(this.settingsRowID) %}" class="settings-placeholder"><td colspan="6"></td></tr>
          <!-- {% }); %} -->
        </table>
    </script>
  </div>

  <div id="bucket_settings_template">
    <div class="pad">
      <div class="gong_rb">
        <div class="pad">
          <a class="edit_btn" href="#editBucket={%= uri %}">Edit</a>
          <table class="bucket_properties_table">
          <col width="50%" />
          <col width="50%" />
            <tr>
              <td>
                Bucket Name: <span>{%= h(name) %}</span><br />
                Bucket Type: <span>{%= h(bucketTypeName) %}</span><br />
                Access Control: <span>{%= (authType == 'none') ? 'Port' : 'Password' %}{%= (authType == 'none') ? (': ' + proxyPort) : '' %}</span>
              </td>
              <td>
              {% if (replicaNumber != 0) { %}
                Replication: <span>{%= V.count(replicaNumber, 'replica copy') %}</span><br />
                Blocking Behavior: <span>do not wait for replication to complete; send {%= V.count(replicaNumber, 'copy') %} asynchronously</span>
              {% } else { %}
                Replication: <span>disabled</span><br />
              {% } %}
              </td>
            </tr>
          </table>
        </div>
        <div class="side side_1"></div>
        <div class="side side_2"></div>
        <div class="side side_3"></div>
        <div class="side side_4"></div>
      </div>
      <span class="additional_server_info bucket_details">

      <h2>Cache Size</h2>
      <div class="size-gauge for-ram">
        <div class="t">Cluster quota (<span class="total">?</span>)</div>
        <div class="gauge">
          <div>
            <div style="width: 1%;" class="green"></div>
            <div style="width: 4%;" class="blue"></div>
          </div>
        </div>
        <table class="b"><tr>
          <td class="blue">Other Buckets (<span class="other">?</span>)</td>
          <td class="green">This Bucket (<span class="this">?</span>)</td>
          <td>Free (<span class="free">?</span>)</td>
        </tr></table>
      </div>{%= V.thisElement(function (e) {BucketsSection.renderRAMDetailsGauge(e, obj);}) %}
      <label class="for-hdd-quota">
	  	<span>Dynamic RAM Quota:</span>
		<span>{%= h(V.formatQuantity(ramQuota)) %}</span>
		<abbr></abbr>
      </label>

      <h2>Storage Size</h2>
      <label class="for-hdd-quota">
	  	<span>Persistence Enabled:</span>
		<span>Yes</span>
		<abbr></abbr>
      </label>

      <div class="normal size-gauge for-hdd">
        <div class="other-data-block">Other data (<span class="other-data">15 Gb</span>)</div>
        <div class="t">Total cluster storage (<span class="total">192 Gb</span>)</div>
        <div class="gauge">
          <div>
            <div class="green"></div>
            <div class="blue"></div>
            <div class="yellow"></div>
          </div>
        </div>
        <table class="b"><tr>
          <td class="blue">Other Buckets (<span class="other">15 Gb</span>)</td>
          <td class="green">This Bucket (<span class="this">5 Gb</span>)</td>
          <td>Free (<span class="free">12 Gb</span>)</td>
        </tr></table>
      </div>
      <div class="overcommit size-gauge for-hdd">
        <div class="other-data-block">Other data (<span class="other-data">15 Gb</span>)</div>
        <div class="t">Total cluster storage (<span class="total">192 Gb</span>)</div>
        <div class="gauge">
          <div class="gauge-total">
            <div class="green"><i></i></div>
            <div class="blue"></div>
            <div class="yellow"></div>
          </div>
        </div>
        <table class="b"><tr>
          <td class="blue">Other Buckets (<span class="other">15 Gb</span>)</td>
          <td class="green">This Bucket (<span class="this">5 Gb</span>)</td>
          <td class="extra">Overcommit (<span class="overcommitted">12 Gb</span>)</td>
        </tr></table>
      </div>{%= V.thisElement(function (e) {BucketsSection.renderHDDDetailsGauge(e, obj)}) %}

      <label class="for-hdd-quota">
	  	<span>Disk Quota:</span>
		<span>{%= h(V.formatQuantity(quota.hdd)) %}</span>
		<abbr></abbr>
      </label>

      </span>
    </div>
  </div>

  <div id="alerts" style="display:none">
    <!-- Shadow box -->
    <span class="block nav float_right configure_view"><a href="/diag" target="_blank">Generate Diagnostic Report</a></span>
    <h1><!-- Alerts / -->Log</h1>
    <div class="shadow_box"><div class="top"><div><div>&nbsp;</div></div></div><div class="cnt"><div class="pad"><div class="content">
        <div class="darker_block with_devider" style="display:none;">
            <div class="pat_10">
                <ul class="tabs">
                  <li><a href="#">Log</a></li>
                  <li><a href="#">Current Alerts</a></li>
                </ul>
            </div>
        </div>
        <div class="panes">
          <div class="tab_holder">
            <div id="alert_logs_container"></div>
            <div id="alert_logs_template" class="template">
            <table class="lined_tab">
              <col width="" />
              <col width="" />
              <col width="160" />
              <tr>
                <th>Event</th>
                <th>Module Code</th>
                <th>Time</th>
              </tr>
              <!-- {% _.each(rows, function (logRow) { %} -->
              <tr>
                <td>{%= h(logRow.text) %}</td>
                <td>{%= h(logRow.module) + (new String(1000 + parseInt(logRow.code))).slice(-3)%}</td>
                <td class="text_11 nobr">{%=V.formatLogTStamp(logRow.tstamp)%}
              </tr>
              <!-- {% }); %} -->
            </table>
            </div>
          </div>
          <div class="pad_10" style="display:none;">
            <div id="alerts_list" class="alerts_list">
              <p class="pab_10">Alerts are being sent to: <span id="alerts_email_setting" class="bolder"></span>
                &nbsp;
                <a href='javascript:AlertsSection.changeEmail();' class="text_11">Change</a>
              </p>
              <ol id="alert_list_container">
              </ol>
              <ol id="alert_list_template" class="template">
                <!-- {% _.each(rows, function (alert) { %} -->
                <li class="alert_{%= h(alert.type) %}">
                  <div class="block pad_10">
                    <h3><strong>{%= formatAlertType(alert.type) %}</strong> - {%= h(alert.shortText) %}</h3>
                    <span class="time">{%= h(formatAlertTStamp(alert.tstamp)) %}</span>
                    <p>
                      {%= h(alert.text) %}
                    </p>
                  </div>
                </li>
                <!-- {% }); %} -->
              </ol>
            </div>
          </div>
        </div>
    </div></div></div><div class="bottom"><div><div>&nbsp;</div></div></div></div>
    <!-- END shadow box -->
  </div>

  <div id="settings" style="display:none">
    <!-- shadow box -->
    <div class="shadow_box"><div class="top"><div><div>&nbsp;</div></div></div><div class="cnt"><div class="pad"><div class="content">
      <div class="darker_block with_devider">
          <div class="pat_10">
              <ul class="tabs">
                <li><a href="#">Basic</a></li>
                <li><a href="#">Advanced</a></li>
              </ul>
          </div>
      </div>
      <div class="panes">
        <div class="brdr_exl_t">
          <form id="basic_settings_form" action="/settings/web">
            <div class="pad_10">
              <div class="basic">
                <div class="warn">
                  <ul>
                  </ul>
                </div>
                <h2 class="head_2_underline">Web Console</h2>
                <div class="form">
                  <div class="labeled_line">
                    <label class="block label for_input" for="port_inp">Port:</label>
                    <div class="line_cnt">
                      <input name="port" type="text" id="port_inp" class="text inp_short"/>
                    </div>
                  </div>
                </div>
                <h2 class="head_2_underline">Security <a class="text_11 tooltip"><span>What's this?</span>
                  <span class="tooltip_msg"><span>
                    Securing the server will force logins for administration and restrict web/REST services to authorized users.
                  </span></span>
                </a></h2>
                <div class="form">
                  <div>
                    <label><input type="checkbox" class="check" name="secureServer" id="secure_serv" value="1"/><input type="hidden" name="secureServer" value="0" /> Secure this Server</label>
                  </div>
                  <div class="clear"></div>
                  <div id="server_secure" style="display:none;">
                    <div class="labeled_line">
                      <label class="block label for_input" for="uname_inp">Username:</label>
                      <div class="line_cnt">
                        <input tabindex="1" type="text" name="username" id="uname_inp" disabled class="text inp_short" />
                        <a tabindex="4" href="javascript:SettingsSection.gotoSetupAlerts();" class="text_11 link">Setup Email Alerts</a>
                      </div>
                    </div>
                    <div class="labeled_line">
                      <label class="block label for_input" for="pass_inp">Password:</label>
                      <div class="line_cnt">
                        <input tabindex="2" name="password" type="password" id="pass_inp" disabled class="text inp_short"/>
                      </div>
                    </div>
                    <input type="hidden" name="username" value=""><input type="hidden" name="password" value="">
                    <div class="labeled_line">
                      <label class="block label for_input" for="verifyPassword">Verify Password:</label>
                      <div class="line_cnt">
                        <input tabindex="3" name="verifyPassword" id="verifyPassword" type="password" class="text inp_short"/>
                        <span class="dont-match">Password doesn't match</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="darker_block">
              <div class="pad_10">
                <div class="right save_cancel">
                  <button type="submit" class="save_button float_right">Save</button>
                  <a href="#" class="cancel_button float_right">Cancel</a>
                </div>
              </div>
            </div>
          </form>
        </div>
        <div class="brdr_exl_t" style="display:none;">
          <form id="advanced_settings_form" action="/settings/advanced">
            <div class="pad_10">
              <div class="advanced">
                <div class="warn">
                  <ul>
                  </ul>
                </div>
                <h2 class="head_2_underline">Port Configuration <a class="text_11 tooltip"><span>What's this?</span>
                  <span class="tooltip_msg"><span>
                    The standard port for memcached is 11211 and the standard port for the proxy is 11212.
                    You can change port numbers here to meet the specific needs of your environment.
                  </span></span>
                </a></h2>
                <div class="form">
                  <div class="labeled_line">
                    <label class="block label for_input" for="proxyPort">Proxy Port:</label>
                    <div class="line_cnt">
                      <input type="text" name="proxyPort" id="proxyPort" class="text inp_short">
                    </div>
                  </div>
                  <div class="labeled_line">
                    <label class="block label for_input" for="directPort">Direct Port:</label>
                    <div class="line_cnt">
                      <input type="text" name="directPort" id="directPort" class="text inp_short">
                    </div>
                  </div>
                </div>
                <h2 class="head_2_underline">Alert settings</h2>
                <div class="form">
                  <div>
                    <label><input name="email_alerts" type="checkbox" class="check" value="1" id="alert_set"> Notify me by email with alerts <input type="hidden" name="email_alerts" value="0"></label>
                  </div>
                  <div id="alerts_settings_guts" style="display:none;">
                    <div class="labeled_line">
                      <label class="block label for_input" for="email_inp">Recipient Email Address:</label>
                      <div class="line_cnt">
                        <input type="text" name="email" id="email_inp" class="text inp_short">
                      </div>
                    </div>
                    <h2 class="form_section_title">Mail Server Settings</h2>
                    <div class="labeled_line">
                      <label class="block label for_input" for="email_server_from_field">Sender Email Address:</label>
                      <div class="line_cnt">
                        <input type="text" id="email_server_from_field" name="sender" class="text inp_short">
                      </div>
                    </div>
                    <div class="labeled_line">
                      <label class="block label for_input" for="email_server_user">Username:</label>
                      <div class="line_cnt">
                        <input type="text" name="email_server_user" id="email_server_user" class="text inp_short">
                      </div>
                    </div>
                    <div class="labeled_line">
                      <label class="block label for_input" for="email_server_pass">Password:</label>
                      <div class="line_cnt">
                        <input type="password" name="email_server_pass" id="email_server_pass" class="text inp_short">
                      </div>
                    </div>
                    <div class="labeled_line">
                      <label class="block label for_input" for="email_server_addr">Mail Server Address:</label>
                      <div class="line_cnt">
                        <input type="text" name="email_server_addr" id="email_server_addr" class="text inp_short">
                        Port:
                        <select name="email_server_port" class="select select_short">
                          <option value="25">25 - SMTP</option>
                          <option value="587">587 - SMTP Message Submit</option>
                          <option value="2525">2525 - SMTP Alternate Port</option>
                        </select>
                      </div>
                    </div>
                    <h2 class="form_section_title">Alert me when there are...</h2>
                    <div class="pat_10">
                      <table class="lined_tab brdr_exl_r">
                        <col width="" />
                        <col width="115" />
                        <col width="50" />
                        <tr>
                          <th>Critical Issues</th>
                          <th>Type</th>
                          <th>Active</th>
                        </tr>
                        <tr>
                          <td>A server is not responding</td>
                          <td>Email</td>
                          <td class="cntr"><input type="checkbox" value="1" name="alert_server_unresponsive" /><input type="hidden" name="alert_server_unresponsive" value="0" /></td>
                        </tr>
                        <tr>
                          <td>A server is down</td>
                          <td>Email</td>
                          <td class="cntr"><input type="checkbox" value="1" name="alert_server_down" /><input type="hidden" name="alert_server_down" value="0" /></td>
                        </tr>
                      </table>
                    </div>
                    <div class="pat_10">
                      <table class="lined_tab brdr_exl_r">
                        <col width="" />
                        <col width="115" />
                        <col width="50" />
                        <tr>
                          <th>Attention Required</th>
                          <th>Type</th>
                          <th>Active</th>
                        </tr>
                        <tr>
                          <td>A bucket has been deleted</td>
                          <td>Email</td>
                          <td class="cntr"><input type="checkbox" value="1" name="alert_bucket_deleted" /><input type="hidden" name="alert_bucket_deleted" value="0" /></td>
                        </tr>
                      </table>
                    </div>
                    <div class="pat_10">
                      <table class="lined_tab brdr_exl_r">
                        <col width="" />
                        <col width="115" />
                        <col width="50" />
                        <tr>
                          <th>Informational Issues</th>
                          <th>Type</th>
                          <th>Active</th>
                        </tr>
                        <tr>
                          <td>A new server joins a cluster</td>
                          <td>Email</td>
                          <td class="cntr"><input type="checkbox" value="1" name="alert_server_joined" /><input type="hidden" name="alert_server_joined" value="0" /></td>
                        </tr>
                        <tr>
                          <td>A server leaves a cluster</td>
                          <td>Email</td>
                          <td class="cntr"><input type="checkbox" value="1" name="alert_server_left" /><input type="hidden" name="alert_server_left" value="0" /></td>
                        </tr>
                        <tr>
                          <td>A new bucket has been created</td>
                          <td>Email</td>
                          <td class="cntr"><input type="checkbox" value="1" name="alert_bucket_created" /><input type="hidden" name="alert_bucket_created" value="0" /></td>
                        </tr>
                        <tr>
                          <td>Bucket authentication failure</td>
                          <td>Email</td>
                          <td class="cntr"><input type="checkbox" value="1" name="alert_bucket_auth_failed" /><input type="hidden" name="alert_bucket_auth_failed" value="0" /></td>
                        </tr>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="darker_block">
              <div class="pad_10">
                <div class="right save_cancel">
                  <button type="submit" class="save_button float_right">Save</button>
                  <a href="#" class="cancel_button float_right">Cancel</a>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div></div></div><div class="bottom"><div><div>&nbsp;</div></div></div></div>
    <!-- END shadow box -->
  </div>

  <div id="coming" style="display:none">
    <h1>Coming in Beta 2</h1>
  </div>

</tr>
</table>

</div> <!-- mainContainer -->

<div class="page-footer">
  <div class="main_holder">
  <h1>Copyright 2010 <a href="http://northscale.com" target="_blank">NorthScale, Inc.</a> All rights reserved.</h1>
</div>

</div> <!-- container -->

<!-- dialogs -->
</div> <!-- #container -->
<div class="jqmWindow bucket_details" id="bucket_details_dialog">
  <h1><span class="when-editing">Configure Bucket</span><span class="when-creating">Create Bucket</span></h1>
  <form><div class="clearfix">
    <h2>Bucket Settings</h2>
    <div class="bucket-icon"></div>
    <label class="for-name"><span>Bucket Name:</span><input disabled name="name" value="Bucket Name"><span class="error-container err-name"></span></label>
    <div class="for-bucket-type"><span>Bucket Type:</span>
     <label><input type="radio" name="bucketType" value="memcache"> Memcached</label>
     <label><input type="radio" name="bucketType" value="membase"> Membase</label>
    </div>
    <h2>Access Control</h2>
    <label class="for-sasl-password"><input id="bucket_details_sasl_selected" type="radio" name="authType" value="sasl" checked>
      <span>Standard port (TCP port 11211. Needs SASL auth.)</span>
   </label>
    <label class="for-sasl-password-input"><span>Enter password: </span><input type="password" name="saslPassword" disabled value=""></label>
    <label class="for-ascii"><input type="radio" name="authType" value="none"><span>Dedicated port (supports ASCII protocol and is auth-less)</span></label>
    <label class="for-proxy-port"><span>Protocol Port:</span><input name="proxyPort"><span class="error-container err-proxyPort"></span></label>
    <h2>Memory Size</h2>
    <div class="size-gauge for-ram">
      <div class="t">Cluster quota (<span class="total">192 Gb</span>)</div>
      <div class="gauge">
        <div>
          <div style="width: 68%;" class="green"></div>
          <div style="width: 33%;" class="blue"></div>
        </div>
      </div>
      <table class="b"><tr>
        <td class="blue">Other Buckets (<span class="other">15 Gb</span>)</td>
        <td class="green">This Bucket (<span class="this">5 Gb</span>)</td>
        <td>Free (<span class="free">12 Gb</span>)</td>
      </tr></table>
    </div>
    <label class="for-ram-quota"><span>Dynamic RAM Quota:</span><input name="ramQuotaMB" value="30"><abbr>MB</abbr></label>
    <div class="error-container err-ramQuotaMB"></div>
    <div class="persistent-only">
      <h2>Storage Size</h2>
      <!-- <label class="for-enable-persistence"><input type="checkbox" disabled checked><span>Enable Persistence</span></label> -->
      <div class="normal size-gauge for-hdd">
        <div class="other-data-block">Other data (<span class="other-data">15 Gb</span>)</div>
        <div class="t">Total cluster storage (<span class="total">192 Gb</span>)</div>
        <div class="gauge">
          <div>
            <div class="green"></div>
            <div class="blue"></div>
            <div class="yellow"></div>
          </div>
        </div>
        <table class="b"><tr>
          <td class="blue">Other Buckets (<span class="other">15 Gb</span>)</td>
          <td class="green">This Bucket (<span class="this">5 Gb</span>)</td>
          <td>Free (<span class="free">12 Gb</span>)</td>
        </tr></table>
      </div>
      <div class="overcommit size-gauge for-hdd">
        <div class="other-data-block">Other data (<span class="other-data">15 Gb</span>)</div>
        <div class="t">Total cluster storage (<span class="total">192 Gb</span>)</div>
        <div class="gauge">
          <div class="gauge-total">
            <div class="green"><i></i></div>
            <div class="blue"></div>
            <div class="yellow"></div>
          </div>
        </div>
        <table class="b"><tr>
          <td class="blue">Other Buckets (<span class="other">15 Gb</span>)</td>
          <td class="green">This Bucket (<span class="this">5 Gb</span>)</td>
          <td class="extra">Overcommit (<span class="overcommitted">12 Gb</span>)</td>
        </tr></table>
      </div>
      <label class="for-hdd-quota"><span>Disk Quota:</span><input name="hddQuotaGB"><abbr>GB</abbr></label>
      <div class="error-container err-hddQuotaGB"></div>
      <h2>Replication</h2>
      <label class="for-enable-replication"><input type="checkbox" checked disabled><span>Enable Replication</span></label>
      <label class="for-replica-number"><input value="1" name="replicaNumber">
        <span>Number of replica (backup) copies</span>
        <span class="error-container err-replicaNumber"></span>
      </label>
    </div> <!-- .persistent-only -->
  </div><div class="save_cancel clearfix">
    <span class="when-editing"><button class="save_button float_right" type="submit">Save</button><button class="delete_button float_right">Delete</button></span>
    <span class="when-creating"><button class="save_button float_right" type="submit">Create</button></span>
    <a href="#" class="jqmClose">Cancel</a>
  </div></form>
</div>

<div class="jqmWindow popup" id="bucket_remove_dialog">
	<h1>Bucket Properties</h1>
	<form>
		<div class="clearfix">
			<h2>Removing</h2>
			<div class="err">
				<p>Removing this bucket will result in complete data loss for this bucket. <br/>Are you sure you want to remove it?</p>
			</div>
		</div>
		<div class="save_cancel clearfix">
			<button onclick="BucketsSection.removeCurrentBucket();" class="delete_button float_right">Delete</button>
			<a class="jqmClose" href="#">Cancel</a>
		</div>
	</form>
</div>

<div class="jqmWindow always-fixed" id="join_cluster_dialog">
  <!-- Join cluster -->
  <div class="lbox join_cluster type_2 shadow_box">
    <div class="content">
      <div class="pad">
        <p class="lbox_header header_2">Add Server</p>
        <p class="warning pat_10" id="join_cluster_dialog_errors_container"></p>
        <p id="join_cluster_dialog_errors_template" class="template">
        <!-- {% _.each(rows, function (e) { %} -->
        <strong>Attention</strong> - {%= h(e) %}<br>
        <!-- {% }); %} -->
        </p>
        <form>
          <div class="pas_20">
            <table>
              <tr>
                <td>
                  <div class="u_line_sm">
                    <label class="label" for="add-server-hostname">Server IP Address*:</label>
                    <input type="text" class="inp" name="hostname" id="add-server-hostname" />
                    <a class="text_11 tooltip"><span>What's this?</span>
                      <span class="tooltip_msg"><span>
                        This is the hostname or IP address of a server node that you wish to add.
                      </span></span>
                    </a>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="th">
                  Security <a class="text_11 tooltip"><span>What's this?</span>
                    <span class="tooltip_msg"><span>
                      If you are add server node that has been secured, you must enter a username
                      and password.  These are the username and password of the node you are joining, not of your
                      current server node.
                    </span></span>
                  </a>
                </td>
              </tr>
              <tr>
                <td>
                  <div class="u_line_sm">
                    <label class="label" for="user_inp">Username:</label>
                    <input type="text" class="inp" name="user" id="user_inp" />
                  </div>
                  <div class="u_line_sm">
                    <label class="label" for="password_inp">Password:</label>
                    <input type="password" class="inp" name="password" id="password_inp" />
                  </div>
                </td>
              </tr>
            </table>
          </div>
          <div class="right save_cancel footer_bg pas_20">
            <button type="submit" class="save_button button_3 float_right">Add Server</button>
            <a class="jqmClose cancel_button float_right" href="#">Cancel</a>
          </div>
        </form>
      </div>
    </div>
  </div>
  <!-- END join cluster -->
</div>
<!--  eject confirmation dialog -->
<div class="jqmWindow always-fixed" id="eject_confirmation_dialog">
  <div class="lbox type_2 shadow_box">
    <div class="content">
      <div class="pad">
        <p class="lbox_header header_2">
        Confirm Node Removal
        </p>
      </div>
      <div class="pas_20">
        <div class="warning pat_20">
          <strong>Warning</strong> - Removing this node from the cluster will reduce cache capacity across all data buckets.
                                       Are you sure you want to remove this node from the cluster?
        </div>
      </div>
      <div class="right save_cancel pas_20 footer_bg">
        <a class="save_button float_right" href="#">Remove</a>
        <a href="#" class="jqmClose cancel_button float_right">Cancel</a>
      </div>
    </div>
  </div>
</div>
<!-- END eject confirmation dialog -->
<!--  add confirmation dialog -->
<div class="jqmWindow always-fixed" id="add_confirmation_dialog">
  <div class="lbox type_2 shadow_box">
    <div class="content">
      <div class="pad">
        <p class="lbox_header header_2">
        Confirm Node Addition
        </p>
      </div>
      <div class="pas_20">
        <div class="warning pat_20">
          <strong>Warning</strong> - Adding a node will cause it to lose all data on that node.
        </div>
      </div>
        <div class="right save_cancel pas_20 footer_bg">
          <a class="save_button float_right" href="#">Add Node</a>
            <a href="#" class="jqmClose cancel_button float_right">Cancel</a>
        </div>
    </div>
  </div>
</div>
<!-- END add confirmation dialog -->
<!--  add confirmation dialog -->
<div class="jqmWindow always-fixed" id="failover_confirmation_dialog">
  <div class="lbox type_2 shadow_box">
    <div class="content">
      <div class="pad">
        <p class="lbox_header header_2">
        Confirm Node Fail Over
        </p>
      </div>
      <div class="pas_20">
        <div class="warning pat_20">
          <strong>Warning</strong> - Failing over node will push it out of cluster. Please, confirm.
        </div>
      </div>
      <div class="pas_20 footer_bg">
        <div class="right save_cancel">
          <a class="save_button float_right" href="#">Fail Over</a>
            <a href="#" class="jqmClose cancel_button float_right">Cancel</a>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- END add confirmation dialog -->
<!-- configure view -->
<div class="jqmWindow" id="analytics_settings_dialog">
  <div class="lbox join_cluster">
    <div class="top">
      <div class="top_left"></div>
      <div class="top_right"></div>
      <div class="top_center"></div>
    </div>
    <div class="center">
      <div class="pad">
        <p class="lbox_header">Configure View</p>
        <div class="pas_20">
          <div class="pat_10">
            <div class="float_50" id="configure_stats_items_container">
            </div>
            <div class="template" id="configure_stats_items_template">
              {% _.each(rows, function (item) { %}
              <label class="item">
                <input type="checkbox" name="{%= h(item.name) %}" />
                <span class="cnt">
                  <span>{%= h(item.short) %}</span>
                  {%= h(item.full) %}
                </span>
              </label>
              {% }); %}
              <div class="clear"></div>
            </div>
            <form>
              <div class="right save_cancel">
                <a class="jqmClose save_button float_right" href="#">Close</a>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <div class="bottom">
      <div class="bottom_left"></div>
      <div class="bottom_right"></div>
      <div class="bottom_center"></div>
    </div>
  </div>
  <!-- #analytics_settings_dialog -->
</div>
<!-- END configure analytics -->
<!-- Leave cluster -->
<div class="jqmWindow" id="generic_dialog">
  <div class="lbox">
    <div class="top">
      <div class="top_left"></div>
      <div class="top_right"></div>
      <div class="top_center"></div>
    </div>
    <div class="center">
      <div class="pad">
        <p class="lbox_header">Leave Cluster</p>
        <div class="pas_20">
          <div class="pat_10">
            <p class="dialog-text">Really eject this node from cluster?</p>
          </div>
          <div class="right save_cancel">
            <div class="float_right">
              <button type="button" class="save_button button_3 float_right">OK</button>
              <a class="jqmClose cancel_button float_right" href="#">Cancel</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="bottom">
      <div class="bottom_left"></div>
      <div class="bottom_right"></div>
      <div class="bottom_center"></div>
    </div>
  </div>
</div>
<!-- </div> --> <!-- #container -->
<!-- About -->
<div class="jqmWindow" id="about_server_dialog">
  <div class="lbox">
    <div class="config-top">
      <img src="../images/northscale-logo.png" alt="NorthScale Logo" />
      <h1>About NorthScale Server</h1>
    </div>
    <div class="center">
      <p class="dialog-text" id="about_versions"></p>
      <p class="dialog-text" id="cluster_state_id"></p>
      <ul>
        <li><a target="_blank" href="http://northscale.com/support">Get Support</a></li>
        <li><a target="MCWebHelp" href="/docs/index_CSH.html#1001|northscale">Documentation</a></li>
      </ul>
    </div>
    <div class="config-bottom">
      <button name="close" value="Close" class="submit close direction-button" id="about-close" type="submit">Close</button>
      <script type="text/javascript">
        $(function(){
          $('.config-bottom button#about-close').click(function (e) {
            e.preventDefault();
            hideDialog('about_server_dialog');
          });
        });
      </script>
    </div>
  </div>
</div>
<!-- END about -->
<div class="auth_block" id="auth_dialog">
  <div class="page-header">
    <div class="cnt_holder main_holder">
      <div class="topper_nav">
        <a href="javascript:showAbout();">About</a>
        <b></b>
        <a style="display: none;" class="sign-out-link" href="javascript:ThePage.signOut();">Sign Out</a>
      </div>
      <a href="/index.html"><span></span></a>
    </div>
  </div>
  <div class="pad">
    <div class="alert_red" id="auth_failed_message" style="display:none;">
      <div class="al_text">
        Login failed. Try again.
      </div>
    </div>
    <div class="alert_red" id="auth_inactivity_message" style="display:none;">
      <div class="al_text">
        The system has logged you out after 5 minutes of inactivity.
      </div>
    </div>
    <!-- <h1>Welcome</h1> TODO: CSS fixup needed here-->
    <h1>&nbsp;</h1>
    <form id="login_form" class="form block">
      <table>
        <col width="" />
        <col width="" />
        <tr>
          <td class="label"><label for="login_inp">Username:</label></td>
          <td><input type="text" name="login" id="login_inp" class="inp" /></td>
        </tr>
        <tr>
          <td class="label"><label for="password2_inp">Password:</label></td>
          <td>
            <input type="password" name="password" id="password2_inp" class="inp" />
          </td>
        </tr>
        <tr>
          <td class="label"></td>
          <td>
            <div class="right">
              <!-- <a href="#" class="forgot tdn">Forgot password?</a><br /> -->
              <div class="pat_10">
                <input type="submit" value="Sign In" class="submit" />
              </div>
            </div>
          </td>
        </tr>
      </table>
    </form>
    <script type="text/javascript">
      $('#login_form').bind('submit', function (e) {
        e.preventDefault();
        loginFormSubmit();
      });
    </script>
  </div>
  <div class="page-footer">
    <div class="main_holder">
      <h1>Copyright &copy; 2010 <a href="http://northscale.com">NorthScale, Inc.</a> All rights reserved.</h1>
    </div>
  </div>
</div>
<!-- END auth_block -->
<div class="init_block" id="init_block">
  <div class="page-header">
    <div class="cnt_holder main_holder">
      <div class="topper_nav">
        <a href="javascript:showAbout();">About</a>
        <b></b>
        <a target="MCWebHelp" href="/docs/index_CSH.html#1001|northscale">Help</a>
        <a style="display: none;" class="sign-out-link" href="javascript:ThePage.signOut();">Sign Out</a>
      </div>
    </div>
  </div>

  <div class="pad" id="init_welcome_license_dialog">
    <!-- TODO: conditional inclusion of this section -->
    <div class="pad-header">
      <div class="tagline">
        ELASTIC DATA MANAGEMENT
      </div>
      <div class="version">
        NorthScale Server 1.6.0 Beta 3
      </div>
      <div class="elastro-cling"></div>
    </div>
    <!-- screen S.1 -->
    <div class="alert_red license_failed_message" style="display:none;">
      <div class="al_text">
        Invalid license. Please try again.
      </div>
    </div>
    <h1>Congratulations</h1>
    <form id="init_welcome_form">
      <p>
        You have successfully installed the NorthScale Server.
      </p>
      <p>
        Please enter your NorthScale license key below and press setup to step through a brief server setup wizard.
      </p>
      <!-- Disabled during BETA PERIOD -->
      <div><input type="text" name="license" class="inp license-input" disabled="disabled"/></div>
      <div class="pat_10">
        <input type="image" name="setup" value="Setup" class="submit next" src="../images/welcome-setup-button.png" />
      </div>
      <!-- Hidden for Beta.
      <p style="font-size:0.9em;">
        If you don't have a NorthScale license key, you can <a href="#">request one here</a>.
      </p>
      -->
    </form>
    <div class="welcome-footer">
      Copyright &copy; 2010 NorthScale, Inc. All Rights Reserved
      <a href="http://northscale.com/company/contact.html" id="welcome-footer-contact" target="_blank">Contact</a>
    </div>
  </div>
  <!-- END welcome_license_block -->

  <div class="pad" id="init_welcome_dialog">
    <div class="pad-header">
      <div class="tagline">
        ELASTIC DATA MANAGEMENT
      </div>
      <div class="version">
        NorthScale Server 1.6.0 Beta 3
      </div>
      <div class="elastro-cling"></div>
    </div>
    <!-- screen S.1 -->
    <h1>Congratulations</h1>
    <form id="init_welcome_form">
      <p>
        You have successfully installed the NorthScale Server.<br>This wizard will help you configure
        your cluster.
      </p>
      <div class="pat_10">
        <input type="image" name="setup" value="Setup" class="submit next" src="../images/welcome-setup-button.png" style="width:145px; height:55px; margin-left:-7px; color:#fff;" />
      </div>
    </form>
    <div class="welcome-footer">
      Copyright &copy; 2010 NorthScale, Inc. All Rights Reserved
      <a href="http://northscale.com/company/contact.html" id="welcome-footer-contact" target="_blank">Contact</a>
    </div>
  </div>
  <!-- END welcome_block -->
  <div class="pad" id="init_cluster_dialog">
    <div class="config-top">
      <h1>Configure Server</h1>
      <h2>Step <span class="current-step">1</span> of 2</h2>
    </div>
    <div class="alert_red" id="init_cluster_failed_message" style="display:none;">
      <div class="al_text">
        Could not join the cluster due to incorrect parameters.
      </div>
    </div>
    <h2 class="question">Configure Disk Storage</h2>
    <div class="disk_setup_block">
      <div>
	  	<label>Size:</label>
        <span style="font-size:10pt; margin-left:5px; line-height: 25px;" class="total-size">---</span>
        <br style="clear:both;" />
      </div>
      <div>
        <label for="setup_path_input">Path:</label>
        <input type="text" name="path" id="setup_path_input" class="path-box" />
        <br style="clear:both;" />
      </div>
      <div class="warning pat_10 init_cluster_dialog_errors_container" style="display:none;"></div>
    </div>
    <h2 class="question">Join Cluster / Start new Cluster</h2>
    <p class="pad_10">
    If you want to add this server to an existing membase cluster select "Join a
    cluster now".
    Alternatively, you may create a new membase cluster by selecting "Start a new
    cluster".
    </p><p class="pad_10" style="padding-top: 5px;">
    If you start a new cluster the "Per Server RAM Quota" you set below will define
    the amount of RAM each server provides to the membase cluster. This value will
    be inherited by all servers subsequently joining the cluster and it cannot be
    modified in an existing cluster, so please set appropriately.
    </p>
    <form id="init_cluster_form" class="form block"><input type="submit" style="display:none;" />
      <div class="pat_10">
		  <label>
	        <input type="radio" name="join_cluster" id="no-join-cluster" checked />
	        Start a new cluster.
	      </label>
	      <div class="memory-quota">
		  	<div>
		        <label style="width: auto;">Per Server RAM Quota:</label>
		        <input type="text" name="dynamic-ram-quota" value="" style="width:95px;" />
		        <span>MB</span>
		        <span>
		          Ram: <span class="ram-total-size">0 Gb</span>
		        </span>
			</div>
	      </div>
	  </div>
      <div class="pat_10">
        <label>
          <input type="radio" name="join_cluster" id="join-cluster" />
          Join a cluster now.
        </label>
        <div class="login-credentials">
          <div>
            <label for="clusterMemberHostIp">IP Address:</label>
            <input type="text" class="inp" name="hostname" id="clusterMemberHostIp" value="" />
            <br class="clear" />
          </div>
          <div>
            <label for="user_inp">Username:</label>
            <input type="text" class="inp" name="user" id="user_inp" value="Administrator" />
            <br class="clear" />
          </div>
          <div>
            <label for="password_inp">Password:</label>
            <input type="password" class="inp" name="password" id="password_inp" />
            <br class="clear" />
          </div>
       </div>
    <!-- </label> -->
      </div>
    </form>
    <div class="config-bottom">
      <button name="next" value="Next" class="submit next direction-button" id="step-2-next" type="submit">Next</button>
    </div>
    <script type="text/javascript">
    $(function(){
    $('input#join-cluster').click(function (e) {
    $('.login-credentials').slideDown();
    $('.memory-quota').slideUp();
    });
    $('input#no-join-cluster').click(function (e) {
    $('.memory-quota').slideDown();
    $('.login-credentials').slideUp();
    });
    });
    </script>
    </div>
  <!-- END init_cluster_block -->
  <div class="pad" id="init_secure_dialog">
   <div class="config-top">
      <h1>Configure Server</h1>
      <h2>Step <span class="current-step">2</span> of 2</h2>
    </div>
    <div class="alert_red" id="init_secure_failed_message" style="display:none;">
      <div class="al_text">
        Could not secure the server because of bad input.
      </div>
    </div>
    <h2 class="title">Secure this Server</h2>
    <p class="pad_10">
      Please create an administrator account this Server. If you want to join other
      servers to this one to form a cluster, you will need to use these administrator
      credentials in the "join cluster" process.
    </p>
    <form id="init_secure_form" class="form block" action="/settings/web">
      <input type="text" name="port"
            style="display:none;" value="SAME"/>
      <div class="warn">
        <ul></ul>
      </div>
      <div class="username-input">
        <label for="secure-username">Username:</label>
        <input type="text" name="username" class="inp" value="Administrator" id="secure-username" maxlength="24" />
      </div>
      <div class="password-input">
        <label for="secure-password">Password:</label>
        <input type="password" name="password" class="inp" id="secure-password" maxlength="24" />
      </div>
      <div class="password-input-verify">
        <label for="secure-password">Verify Password:</label>
        <input type="password" name="password" class="inp" id="secure-password-verify" maxlength="24" />
      </div>
      <button type="submit" style="display:none;"></button>
    </form>
    <div class="config-bottom">
      <button name="finish" value="Finish" class="submit finish direction-button" id="step-3-finish" type="submit">Finish</button>
      <button name="back" value="Back" class="submit back direction-button" id="step-3-back" type="button">Back</button>
    </div>
    <script type="text/javascript">
      $(function(){
        $('div.config-bottom button#step-3-finish').click(function (e) {
          e.preventDefault();
          $('#init_secure_form').submit();
        });
        $('div.config-bottom button#step-3-back').click(function (e) {
          e.preventDefault();
          showInitDialog("cluster");
        });
      });
    </script>
  </div>
  <!-- END init_secure_block -->
  <div class="page-footer">
    <div class="main_holder">
      <h1>Copyright 2010 <a href="http://northscale.com">NorthScale, Inc.</a> All rights reserved.</h1>
    </div>
  </div>
</div>
<!-- END init_block -->
<div class="jqmWindow" id="edit_server_settings_dialog">
  <div class="lbox type_2 shadow_box">
    <div class="cnt">
      <div class="content">
        <div class="top_save_cancel right save_cancel float_right">
          <button type="submit" class="save_button float_right">Save</button>
          <a class="jqmClose cancel_button float_right" href="#">Cancel</a>
        </div>
        <p class="lbox_header header_2">Edit Server</p>
        <form class="lbox_form">
          <h3>Server configuration<h3>
          <table>
          <col width="230" />
          <col width="300" />
            <tr>
              <td class="label">
                <label>Server name:</label>
              </td>
              <td>
                <input type="text" name="hostname" disabled class="inp inp_size_2">
              </td>
            </tr>
            <tr>
              <td class="label">IP Address:<label></label></td>
              <td><input type="text" name="ip" disabled class="inp inp_size_2"></td>
            </tr>
            <tr>
              <td class="label"><label>Operating System:</label></td>
              <td><input type="text" name="os" disabled class="inp inp_size_2"></td>
            </tr>
            <tr>
              <td class="label"><label>Version:</label></td>
              <td><input type="text" name="version" disabled class="inp inp_size_2"></td>
            </tr>
            <tr>
              <td class="label">License Key:<label></label></td>
              <td><input type="text" name="license" disabled class="inp inp_size_2"></td>
            </tr>
            <tr>
              <td class="label"><label>Direct Port:</label></td>
              <td><input type="text" name="directPort" class="inp inp_size_1"></td>
            </tr>
            <tr>
              <td class="label"><label>Proxy Port:</label></td>
              <td><input type="text" name="proxyPort" class="inp inp_size_1"></td>
            </tr>
          </table>

          <h3>Memory Cache</h3>
          <table>
          <col width="230" />
          <col width="300" />
            <tr>
              <td class="label"><label>Dynamic RAM Allocated:</label></td>
              <td><input type="text" name="ramQuota" class="inp inp_size_1"> Gb</td>
            </tr>
          </table>

          <h3>
            <a href="#" class="add_btn"></a>
            Solid State Storage
          </h3>
          <table>
          <col width="230" />
          <col width="300" />
            <tr>
              <td class="label"><label>Flash One - Memory Allocated:</label></td>
              <td><input type="text" name="fl_one" class="inp inp_size_1"> Gb</td>
            </tr>
            <tr>
              <td class="label"><label>Path:</label></td>
              <td>
                <input type="text" name="fl_one" class="inp inp_size_3">
                <a href="#" class="del_link">Delete</a>
              </td>
            </tr>
          </table>

          <h3>
            <a href="#" class="add_btn"></a>
            Disk Storage
          </h3>
          <table>
          <col width="230" />
          <col width="300" />
            <tr>
              <td class="label"><label>Disk One Quota:</label></td>
              <td>
                <span class="float_right">Total: 300Gb</span>
                <input type="text" name="fl_one" class="inp inp_size_1"> Gb
              </td>
            </tr>
            <tr>
              <td class="label"><label>Path:</label></td>
              <td>
                <input type="text" name="fl_one" class="inp inp_size_3">
                <a href="#" class="del_link">Delete</a>
              </td>
            </tr>
            <tr>
              <td class="label"><label>Disk Two Quota:</label></td>
              <td>
                <span class="float_right">Total: 300Gb</span>
                <input type="text" name="fl_one" class="inp inp_size_1"> Gb
              </td>
            </tr>
            <tr>
              <td class="label"><label>Path:</label></td>
              <td>
                <input type="text" name="fl_one" class="inp inp_size_3">
                <a href="#" class="del_link">Delete</a>
              </td>
            </tr>
          </table>

          <div class="pas_20">
            <div class="right save_cancel">
              <button class="save_button float_right" type="submit">Save</button>
              <a href="#" class="jqmClose cancel_button float_right">Cancel</a>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<div id="notice_template" class="template">
  <div class="shadow_box notice"><div class="top"><div><div>&nbsp;</div></div></div><div class="cnt"><div class="pad"><div class="content">
    <h2 class="header_2">NorthScale Server Message<span style="float: right; color: black; font-size: 13px;">click to dismiss</span></h2>
    <div class="pad_10 success_msg">
      <p class="info_text">{%= h(text) %}</p>
    </div>
  </div></div></div><div class="bottom"><div><div>&nbsp;</div></div></div></div>
</div>
<div id="noticeErr_template" class="template">
  <div class="shadow_box notice"><div class="top"><div><div>&nbsp;</div></div></div><div class="cnt"><div class="pad"><div class="content">
    <h2 class="header_2">NorthScale Server Alert<span style="float: right; color: black; font-size: 13px;">click to dismiss</span></h2>
    <div class="pad_10 error_msg">
      <p class="info_text">{%= h(text) %}</p>
    </div>
  </div></div></div><div class="bottom"><div><div>&nbsp;</div></div></div></div>
</div>
<div class="popup_2">

</div>
</body>
</html>
