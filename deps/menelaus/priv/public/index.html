<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>NorthScale Console</title>
<link rel="stylesheet" type="text/css" href="/css/screen.css">
<link rel="stylesheet" type="text/css" href="/css/tabs.css">
<link rel="stylesheet" type="text/css" href="/css/print.css">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!--[if IE]><script language="javascript" type="text/javascript" src="/js/excanvas.min.js"></script><![endif]-->
<!--[if IE 6]>
<link rel="stylesheet" type="text/css" href="/css/ie6.css" />
<![endif]-->
<script src="/js/all.js"></script>
</head>
<body class="nojs">
  <div id="container">
    <div class="page-header">
      <div class="cnt_holder main_holder">
        <div class="topper_nav">
          <a href="javascript:showAbout();">About</a>
          <b>&bull;</b>
          <a href="javascript:ThePage.signOut();" class="sign-out-link">Sign Out</a>
        </div>
        <a href="/index.html"><span>&nbsp;</span></a>
      </div>
    </div> <!-- header -->

    <div id="nojs_alert">Your browser does not support javascript or it is currently disabled. This application requires browsers which meet a minimum standards level with javascript enabled.  See the documentation for details.</div>
    <script type="text/javascript">document.getElementById('nojs_alert').style.display = 'none';</script>
    <div id="mainContainer" class="main_holder">
    <div class="bread_crumbs">
      <ul>
        <li class="nobg"><a href="#">Loading...</a></li>
        <li><a href="#">...</a></li>
        <li>...</li>
      </ul>
    </div>
<table width="100%">
  <tr>
    <td class="leftNav">
      <h1>MONITOR</h1>
      <ul>
        <!--<li class="line"></li>-->
        <li class="line disabled"><!-- disabled for beta1 a id="switch_overview" href="javascript:nav.go('overview');" -->Cluster Overview<!-- /a --></li>
        <li class="line disabled"><!-- disabled for beta1 a id="switch_monitor_buckets" href="javascript:nav.go('monitor_buckets');" -->Data Buckets<!-- /a --></li>
        <li class="line disabled"><!-- disabled for beta1 a id="switch_monitor_servers" href="javascript:nav.go('monitor_servers');" -->Servers<!-- /a --></li>
        <li class="line disabled"><!-- disabled for beta1 a id="switch_alerts" href="javascript:nav.go('alerts');" -->Alerts<!-- /a --></li>
        <li class="line"><a id="switch_alerts" href="javascript:nav.go('log');">Log</a></li>
      </ul>

      <h1>MANAGE</h1>
      <ul>
        <li class="line"><a id="switch_buckets" href="javascript:nav.go('buckets');">Data Buckets</a></li>
        <li class="line"><a id="switch_servers" href="javascript:nav.go('servers');">Servers</a></li>
      </ul>

      <h1>SETUP</h1>
      <ul>
        <li class="line disabled"><!-- disabled for beta1 a id="switch_settings" href="javascript:nav.go('settings');"  -->Settings<!-- /a --></li>
      </ul>

      <h1>SUPPORT</h1>
      <ul>
        <li class="line"><a id="switch_support_docs" href="/docs/index_CSH.html#1002|northscale" target="MCWebHelp">Documentation</a></li>
        <li class="line"><a id="switch_support_forums" href="http://forums.northscale.com/" target="nsforums">Support Forums</a></li>
        <li class="line"><a id="switch_support_suggest" href="http://forums.northscale.com/" target="nsforums">Suggest a Feature</a></li>
      </ul>
    </td>
    <td id="mainPanel">
      <div id="overview" style="display:none;">
      <!-- shadow box -->
      <h1>Cluster Overview</h1>
      <div id="notice_container"></div>
      <div class="shadow_box">
        <div class="top">
          <div>
            <div>&nbsp;</div>
          </div>
        </div>
        <div class="cnt">
          <div class="pad">
            <div class="content">
              <h2 class="header_2" id="get_started_expander"><span class="expander_2 block">&nbsp;</span>Get Started</h2>
              <div class="pad_10" id="get_started">
                <span class="info_text">You may also want to review the <a href="/docs/index_CSH.html#1002|northscale" target="MCWebHelp">Quick Start</a> documentation.</span>
                <div class="pat_10">
                    <div class="gray_rb">
                        <div class="left">
                            <div class="right">
                                <div class="pad">
                                    <span id="join_leave_switch" class="join-possible">
                                      <a id="cluster_join_button" class="button_big">
                                        Join Cluster
                                      </a>
                                      <a id="cluster_leave_button" class="button_big" href="javascript:OverviewSection.leaveCluster();">
                                        Leave Cluster
                                      </a>
                                    </span>
                                    <a href="javascript:BucketsSection.startCreate();" class="button_big">
                                      Create Data Bucket
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="bottom">
          <div>
            <div>&nbsp;</div>
          </div>
        </div>
      </div>
	<!-- END shadow box -->
	<!-- shadow box -->
	<h1>Status</h1>
	<div class="shadow_box"><div class="top"><div><div>&nbsp;</div></div></div><div class="cnt"><div class="pad"><div class="content">
    <div class="darker_block with_devider pat_10" id="cluster_status_container">
    </div><div class="template" id="cluster_status_template">
        <div class="labeled_line">
            <h2 class="label">Cluster Health:</h2>
            <div class="line_cnt">
                <div class="alert_1">{%= V.setAttribute('class', isWarning ? 'warning_1' : '') %}{%=  V.setAttribute('class', isCritical ? 'critical_1' : '') %}</div>
                <a href="javascript:nav.go('alerts');">{% if (isCritical) { %}Critical{% } else if (isWarning) { %}Warning{% } else { %}Healthy{% } %}</a>
                <span class="comment">({%= h(V.count(nodesCount, 'server node')) %} managing <a href="javascript:nav.go('buckets');">{%=h(V.count(bucketsCount, 'bucket'))%}</a>)</span>
            </div>
        </div>
        <div class="labeled_line percentage_big">
            <h2 class="label for_usage_big">Cluster Memory Usage:</h2>
            <div class="line_cnt">
                <div class="usage_big">
                    <div class="unused">
                        <div class="used" style="width:1%;"></div>
                    </div>{%=V.setPercentBar(memoryUtilization)%}
                    <div class="comment">{%=memoryUtilization%}% Utilized ({%=V.formatQuantity(memoryFree)%} Free)</div>
                </div>
                <a class="text_11 tooltip"><span>What's this?</span>
                  <span class="tooltip_msg"><span>
                    The amount of physical memory your cluster has, and how much has been used as reported by the operating system.
                  </span></span>
                </a>
            </div>
        </div>
        <div class="labeled_line percentage_big">
            <h2 class="label for_usage_big">Total Cache Size:</h2>
            <div class="line_cnt">
                <div class="usage_big red">
                    <div class="unused">
                        <div class="used" style="width:50%;"></div>
                    </div>{%=V.setPercentBar(mcdItemUtilization)%}
                    <div class="comment">{%=V.formatQuantity(bucketsSizeTotal*1024*1024)%} Across <a class="bimnone" href="javascript:nav.go('buckets');">{%=h(V.count(bucketsCount, 'bucket'))%}</a>.</div>
                </div>
                <a class="text_11 tooltip"><span>What's this?</span>
                  <span class="tooltip_msg"><span>
                    Total cache size across all nodes of the cluster.
                  </span></span>
                </a>
            </div>
        </div>
    </div>
    <div class="section">
      <div class="labeled_line">
          <h2 class="label for_server_line">Server Nodes:</h2>
          <p class="line_cnt" id="server_list_container">
          </p>
          <div id="server_list_template" class="template">
            <table class="server_list"><tbody>
              <!-- {% $.each(rows, function (index) { %} -->
              <tr class="primary">
                <td class="expander"><div>&nbsp;</div></td>
                <td class="name"><div>{%= h(this.hostname) %}</div></td>
                <td class="status"><div class="{%=V.renderHealthClass(this.status)%}"></div></td>
              </tr>
              <tr class="details"><td colspan="3">
                <div class="first gong_rb">
                  <div class="side side_1"></div>
                  <div class="side side_2"></div>
                  <div class="side side_3"></div>
                  <div class="side side_4"></div>
                  <div class="pad">
                      <table>
                        <col width="230" />
                        <col width="" />
                        <tr>
                            <td>Uptime: <span>{%= h(formatUptime(this.uptime)) %}</span></td>
                            <td>
                                <div class="float_left">Memory Usage:</div>
                                <div class="float_left usage_small">
                                    <div class="side_shadow">
                                        <div class="unused">
                                            <div class="used" style="width:50%;"></div>
                                        </div>{%=V.setPercentBar(normalizeNaN(Math.floor(100-Math.round(this.memoryFree*100/this.memoryTotal))))%}
                                    </div>
                                </div>
                                <span class="float_left">{%=normalizeNaN(Math.floor(100-Math.round(this.memoryFree*100/this.memoryTotal)))%}% used</span></td>
                        </tr>
                        <tr>
                            <td>OS: <span>{%= h(this.os) %}</span></td>
                            <td>Direct Port: <span>{%=h(this.ports.direct)%}</span></td>
                        </tr>
                        <tr>
                            <td>Version: <span>{%= h(this.version) %}</span></td>
                            <td>Proxy Port: <span>{%=h(this.ports.proxy)%}</span></td>
                        </tr>
                      </table>
                  </div>
                </div>
                <div class="right block tdn bolder">
                  <a href="#openServer={%= h(this.otpNode) %}">Server Settings</a>
                <!-- {% if (rows.length != 1) { %} -->
                  <a href="{%=jsLink('OverviewSection.removeNode',this.otpNode)%}">Remove Server from Cluster</a>
                <!-- {% } %} -->
                </div>
              </td></tr>
             <!-- {% }); %} -->
            </tbody></table>
          </div>
      </div>
    </div>
	</div></div></div><div class="bottom"><div><div>&nbsp;</div></div></div></div>
	<!-- END shadow box -->
  </div>
  <div id="servers" style="display:none">
    <h1>SERVERS</h1>
    <div class="warning_message failover_warning">
      Fail Over Warning: Your system is missing replicants until you rebalance.
    </div>
    <div class="shadow_box">
      <div class="cnt">
        <div class="content">
          <!-- shadow box -->
            <div class="header_2 servers_header">
            <a class="add_button btn_1"><span>Add Server</span></a>
            <a class="rebalance_button btn_1"><span>Rebalance</span></a>
            <a class="stop_rebalance_button btn_1"><span>Stop Rebalance</span></a>
            <ul class="tabs switcher">
              <li class="tab_left"><a href="#">Active Servers</a></li>
              <li class="tab_right" id="rebalance_tab">
                <a href="#">Pending Rebalance</a>
                <span class="alert_num"><span>1</span></span>
              </li>
            </ul>
          </div>
          <div class="panes">
            <div>
              <div id="active_server_list_container" class="servers-not-rebalancing servers_list"></div>
              <div id="rebalancing_list_container" class="servers-rebalancing"></div>
            </div><div>
              <div id="pending_server_list_container" class="servers_list"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script id="manage_server_list_template" type="text/html">
    <ul>
    <!-- {% if (!rows.length) { %} -->
      <li class="server_row rebalance_empty">
        <span class="rebalance_empty_message">There are no servers pending rebalance.</span>
      </li>
    <!-- {% } %} -->
    <!-- {% _.each(rows, function (s) { %} -->
      <!-- {% if (s.clusterMembership == 'inactiveAdded') { %}-->
      <li class="server_row pending_add {%= s.nodeClass %}">{%= V.setData('server', s) %}
        <a class="serverName" href="#openServer={%= s.otpNode %}">{%= h(s.hostname) %}</a>
        <a href="#" class="btn_cancel eject_server">CANCEL</a>
        <span class="pending_add_message">PENDING ADD</span>
      </li>
      <!-- {% } else if (s.pendingEject) { %} -->
      <li class="server_row pending_removal {%= s.nodeClass %}">{%= V.setData('server', s) %}
        <a class="serverName" href="#openServer={%= s.otpNode %}">{%= h(s.hostname) %}</a>
        <a href="#" class="btn_cancel remove_from_list">CANCEL</a>
        <span class="pending_removal_message">PENDING REMOVAL</span>
      </li>
      <!-- {% } else { %} -->
        <!-- {% if (s.reAddPossible) { %} -->
        <li class="add_back_row">{%= V.setData('server', s) %}
          <a href="#" class="add_back_btn re_add_button"></a>
          <span class="add_b_message">This server is now reachable. Do you want to add it back to the cluster on the next rebalance?</span>
        </li>
        <!-- {% } %} -->
      <li class="server_row {%= s.nodeClass %}">{%= V.setData('server', s) %}
        <a href="#openServer={%= h(s.otpNode) %}" class="serverName">{%= h(s.hostname) %}</a>
        <span class="failed_over_message">FAILED OVER: PENDING REMOVAL</span>
        <a class="list_button btn_width_2 eject_server"><span>Remove Server</span></a>
        <a class="list_button btn_width_1 failover_server"><span>Fail Over</span></a>
      </li>
      <!-- {% } %} -->
      <li id="{%= h(s.detailsRowID) %}" class="settings-placeholder"></li>
    <!-- {% }); %} -->
    </ul>
  </script>
  <div id="server_details_template" class="template">
                <div class="first gong_rb">
                  <div class="side side_1"></div>
                  <div class="side side_2"></div>
                  <div class="side side_3"></div>
                  <div class="side side_4"></div>
                  <div class="pad">
                    <!-- disabled for beta1 a class="edit_btn float_right" href="javascript:ServersSection.editServerSettings('{%= h(escapeJS(obj.otpNode)) %}');"></a -->
                    <a class="edit_btn float_right disabled"></a>
                    <table class="server_details_tab">
                      <col width="230" />
                      <col width="" />
                      <tr>
                        <td>Server Name: <span>{%= h(hostname) %}</span></td>
                        <td>Uptime: <span>{%= h(formatUptime(uptime)) %}</span></td>
                      </tr>
                      <tr>
                        <td>OS: <span>{%= h(os) %}</span></td>
                        <td>Version: <span>{%= h(version) %}</span></td>
                      </tr>
                    </table>
                  </div>
                </div>
               <span class="additional_server_info">
                <h3>Memory Cache</h3>
                <span class="info_block">
                  <span class="dynamic_ram">Dynamic RAM:</span>
                  <table class="RAM_diagramm">
                  <col width="" />
                  <col width="" />
                  <col width="" />
                  <col width="" />
                    <tr>
                      <td colspan="4">
                        <span class="diagr_ram">
                          <span class="blue" style="width:1%;">{%= V.thisElement(function (e) {e.css('width', percentReserved + '%')}) %}</span>
                          <span class="yellow" style="width:2%;">{%= V.thisElement(function (e) {e.css('width', percentOther + '%')}) %}</span>
                        </span>
                      </td>
                    </tr>
                    <tr class="diagr_labels">
                      <td class="blue">Membase Quota ({%= V.formatQuantity(memoryReserved, 'b', 1024) %})</td>
                      <td class="yellow">Other ({%= V.formatQuantity(memoryOther, 'b', 1024) %})</td>
                      <td>Free ({%= V.formatQuantity(memoryFree, 'b', 1024) %})</td>
                      <td class="right">{%= V.formatQuantity(memoryTotal, 'b', 1024) %}</td>
                    </tr>
                  </table>
                </span>
                <h3>Solid State Storage</h3>
                <span class="info_block">
                  <span class="solid_state"></span>
                  <!-- <a href="#" class="add_btn"></a> -->
                  <span class="info_message">None configured</span>
                </span>
                <h3>Disk Storage</h3>
                <span class="info_block">
                  <span class="disk_storage">
                    Disk One:
                    <span class="path">{%= h(storage.hdd[0].path) %}</span>
                  </span>
                  <table class="RAM_diagramm">
                  <col width="" />
                  <col width="" />
                  <col width="" />
                  <col width="" />
                    <tr>
                      <td colspan="4">
                        <span class="diagr_ram">
                          <span class="blue" style="width:1%;">{%= V.thisElement(function (e) {e.css('width', storage.hdd[0].quotaPercent + '%')}) %}</span>
                          <span class="yellow" style="width:2%;">{%= V.thisElement(function (e) {e.css('width', storage.hdd[0].memoryUsedPercent + '%')}) %}</span>
                        </span>
                      </td>
                    </tr>
                    <tr class="diagr_labels">
                      <td class="blue">Membase Quota ({%= h(storage.hdd[0].quotaText) %})</td>
                      <td class="yellow">Other ({%= V.formatQuantity(storage.hdd[0].memoryUsed, 'b', 1024) %})</td>
                      <td>Free ({%= V.formatQuantity(storage.hdd[0].memoryFree, 'b', 1024) %})</td>
                      <td class="right">{%= V.formatQuantity(storage.hdd[0].memoryTotal, 'b', 1024) %}</td>
                    </tr>
                  </table>
                </span>
              </span>
  </div>
  <script type="text/html" id="rebalancing_list_template">
    <ul class="servers_list rebalancing">
      <!-- {% _.each(rows, function (server) { %} -->
      <li class="server_row">
        <span class="usage_info">{%= h(server.percent) %}% Complete</span>
        <!-- width attribute of span that is set below is not working properly - needs to be fixed -->
        <span class="server_usage"><span style="width: {%= h(server.percent) %}%;"></span></span>
        <a href="javascript:;" class="serverName">{%= h(server.hostname) %}</a>.
      </li>
      <!-- {% }); %}-->
    </ul>
  </script>

  <div id="analytics" style="display:none">
  <span class="block nav float_right configure_view"><a href="javascript:StatGraphs.configureStats();">Configure View</a></span>
	<h1>
		Analytics: <span class="stat_target_name">&nbsp;</span>
	</h1>
	<!-- shadow box -->
	<div class="shadow_box"><div class="top"><div><div>&nbsp;</div></div></div><div class="cnt"><div class="pad"><div class="content">
    <div class="section">
      <h2 class="header_2">
        <span class="block nav float_right">
          <span class="current">Last <b class="stats_visible_period">?</b> Seconds</span>
        </span>
        Live View of <span class="stat_target_name live_view_of">&nbsp;</span>
  	  </h2>
      <div class="analytics_graph_main">
        <span class="graph_info_label block right active_node_count"><!-- 3 active nodes --></span>
        <div id="analytics_main_graph_grid">
          <div id="analytics_main_graph"></div>
        </div>
      </div>
      <div class="darker_block graph_nav">
      <div class="analytics-small-graph" id="analytics_graph_hit_ratio">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_updates">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_misses">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_ops">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_total_items">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_curr_items">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_bytes_read">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_cas_misses">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_delete_hits">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_conn_yields">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_get_hits">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_delete_misses">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_total_connections">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_curr_connections">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_threads">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_bytes_written">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_incr_hits">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_get_misses">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_listen_disabled_num">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_decr_hits">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_cmd_flush">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_engine_maxbytes">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_bytes">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_incr_misses">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_cmd_set">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_decr_misses">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_accepting_conns">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_cas_hits">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_limit_maxbytes">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_cmd_get">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_connection_structures">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_cas_badval">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_auth_cmds">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <div class="analytics-small-graph" id="analytics_graph_evictions">
        <div class="small_graph_block"></div>
        <span class="small_graph_label"><span class="value">0</span><span class="label-text">-</span></span>
      </div>
      <b class="clear">&nbsp;</b>
      </div>
    </div>
	</div></div></div><div class="bottom"><div><div>&nbsp;</div></div></div></div>
	<!-- END shadow box -->
	<h1>Top Keys: <span class="stat_target_name">&nbsp;</span></h1>
	<!-- shadow box -->
	<div class="shadow_box"><div class="top"><div><div>&nbsp;</div></div></div><div class="cnt"><div class="pad"><div class="content">
    <div class="section">
      <h2 class="header_2">
        <span class="block nav float_right">
          <!-- <span class="current">Recent</span> -->
        </span>
        Live View of <span class="stat_target_name live_view_of">&nbsp;</span>
      </h2>
      <p id="top_keys_container">
      </p>
      <div id="top_keys_template" class="template">
        <table>
          <tr>
            <th>Key</th>
	    <th>Evictions/Sec</th>
            <th>Hit Ratio</th>
            <th>Ops/Sec</th>
          </tr>
          <!-- {% $.each(rows, function () { %} -->
            <tr>
              <td>{%= h(this.name) %}</td>
              <td>{%= h(Math.round(this.evictions * 100.0) / 100.0) %}</td>
              <td>{%= h(Math.round(this.ratio * 1000.0) / 10.0) %}</td>
              <td>{%= h(Math.round(this.ops * 100.0) / 100.0) %}</td>
            </tr>
          <!-- {% }); %} -->
        </table>
      </div>
    </div>
	</div></div></div><div class="bottom"><div><div>&nbsp;</div></div></div></div>
	<!-- END shadow box -->
  </div>

  <div id="buckets" style="display:none">
    <!-- shadow box -->
    <h1>Data Buckets</h1>
    <div class="shadow_box"><div class="top"><div><div>&nbsp;</div></div></div><div class="cnt"><div class="pad"><div class="content">
    <div class="darker_block">
        <div class="pad_10">
            <div class="pat_10 right buckets_action_bar">
                <button class="button_200 disabled">Create New Data Bucket</button>
            </div>
        </div>
    </div>
    <div id="bucket_list_container">
    </div>
    </div></div></div><div class="bottom"><div><div>&nbsp;</div></div></div></div>
	<!-- END shadow box -->
    <script id="bucket_list_template" type="text/html">
        <table class="lined_tab buckets_tab">
          <col width="" />
          <col width="" />
          <col width="" />
          <col width="135" />
          <col width="" />
          <tr>
            <!-- to display sort arrow correctly you need to switch between "sort_desc" and "sort_asc" classes in span -->
            <th><span>Bucket Name</span></th>
            <th>Bucket Type</th>
            <th># of Servers</th>
            <th>Bucket Resides On</th>
            <th>Total Memory</th>
            <th>Flash & Disk Quota</th>
          </tr>
          <!-- {% $.each(rows, function () { %} -->
          <!--<tr>
              <td>
              <a class="bucket_properties_link float_right text_11"
                href="{%= jsLink('BucketsSection.showBucket', this.uri)%}">Properties</a>
              <a class="gray_link bucket_name" href="#visitBucket={%=h(this.name)%}">{%= h(this.name) %}</a>
              </td>
              <td>{%= h(truncateTo3Digits(this.basicStats.opsPerSec)) %}</td>
              <td>{%= h(truncateTo3Digits(this.basicStats.evictionsPerSec)) %}</td>
              <td>
                <div class="usage_smallest_info">
                    <div class="usage_smallest">
                        <div class="side_shadow">
                            <div class="unused">
                                <div class="used" style="width:1%;"></div>
                            </div>
                        </div>
                    </div>{%= V.setPercentBar(this.basicStats.cachePercentUsed*100) %}
                    {%= h(truncateTo3Digits(this.basicStats.cachePercentUsed*100)) %}%
                </div>
              </td>
              <td>{%= h(this.basicStats.cacheSize) %}MB</td>
            </tr>-->
            <tr>
              <td><a class="gray_link bucket_name" href="#visitBucket={%=h(this.name)%}">{%= h(this.name) %}</a></td>
              <td>Membase</td>
              <td>...</td>
              <td>...</td>
              <td>...</td>
              <td>...</td>
            </tr>
            <tr id="{%= h(this.settingsRowID) %}" class="settings-placeholder"><td colspan="6"></td></tr>
          <!-- {% }); %} -->
        </table>
    </script>
  </div>

  <div id="bucket_settings_template">
    <div class="pad">
      <div class="gong_rb">
        <div class="side side_1"></div>
        <div class="side side_2"></div>
        <div class="side side_3"></div>
        <div class="side side_4"></div>
        <div class="pad">
          <a class="edit_btn disabled"><!--EDIT--></a>
          <table class="bucket_properties_table">
          <col width="50%" />
          <col width="50%" />
            <tr>
              <td>
                Bucket Name: <span>default</span><br />
                Bucket Type: <span>membase</span><br />
                Number of Servers: <span> stretch to all</span><br />
                Access Control: <span>port</span>
              </td>
              <td>
                Replication: <span>1 replica (backup) copy</span><br />
                Blocking Behavior: <span>do not wait for replication to complete; send 1 copy asynchronously</span>
              </td>
            </tr>
          </table>
        </div>
      </div>
      <span class="additional_server_info">
        <h3>Cache Size</h3>
        <span class="info_block">
          <div class="ovf">
            <span class="total_ram">Total RAM ...</span>
            <table class="label">
            <col width="245" />
            <col width="" />
              <tr>
                <td>Dynamic RAM Allocated:</td>
                <td>...</td>
              </tr>
            </table>
            <table class="RAM_diagramm">
            <col width="">
            <col width="">
            <col width="">
            <col width="">
              <tr>
                <td colspan="4">
                  <span class="diagr_ram">
                    <span style="width: 5%;" class="blue"></span>
                    <span style="width: 5%;" class="green"></span>
                  </span>
                </td>
              </tr>
              <tr class="diagr_labels">
                <td class="blue">Membase Quota ...</td>
                <td class="green">Other ...</td>
                <td>Free ...</td>
                <td class="right">...</td>
              </tr>
            </table>
          </div>
        </span>
        <h3>Storage Size</h3>
        <span class="info_block">
          <div class="ovf">
            <table class="label">
            <col width="245" />
            <col width="" />
              <tr>
                <td>Persistance Enabled:</td>
                <td>yes</td>
              </tr>
            </table>
          </div>
          <div class="ovf">
            <span class="total_ram">Total RAM ...</span>
            <table class="label">
            <col width="245" />
            <col width="" />
              <tr>
                <td>Disk Quota:</td>
                <td>...</td>
              </tr>
            </table>
            <table class="RAM_diagramm">
            <col width="">
            <col width="">
            <col width="">
            <col width="">
              <tr>
                <td colspan="4">
                  <span class="diagr_ram">
                    <span style="width: 5%;" class="blue"></span>
                    <span style="width: 5%;" class="green"></span>
                  </span>
                </td>
              </tr>
              <tr class="diagr_labels">
                <td class="blue">Membase Quota ...</td>
                <td class="green">Other ...</td>
                <td>Free ...</td>
                <td class="right">...</td>
              </tr>
            </table>
          </div>
        </span>
      </span>
    </div>
  </div>

  <div id="alerts" style="display:none">
    <!-- Shadow box -->
    <span class="block nav float_right configure_view"><a href="/diag" target="_blank">Generate Diagnostic Report</a></span>
    <h1><!-- Alerts / -->Log</h1>
    <div class="shadow_box"><div class="top"><div><div>&nbsp;</div></div></div><div class="cnt"><div class="pad"><div class="content">
        <div class="darker_block with_devider" style="display:none;">
            <div class="pat_10">
                <ul class="tabs">
                  <li><a href="#">Log</a></li>
                  <li><a href="#">Current Alerts</a></li>
                </ul>
            </div>
        </div>
        <div class="panes">
          <div class="tab_holder">
            <div id="alert_logs_container"></div>
            <div id="alert_logs_template" class="template">
            <table class="lined_tab">
              <col width="" />
              <col width="" />
              <col width="160" />
              <tr>
                <th>Event</th>
                <th>Module Code</th>
                <th>Time</th>
              </tr>
              <!-- {% _.each(rows, function (logRow) { %} -->
              <tr>
                <td>{%= h(logRow.text) %}</td>
                <td>{%= h(logRow.module) + (new String(1000 + parseInt(logRow.code))).slice(-3)%}</td>
                <td class="text_11 nobr">{%=V.formatLogTStamp(logRow.tstamp)%}
              </tr>
              <!-- {% }); %} -->
            </table>
            </div>
          </div>
          <div class="pad_10" style="display:none;">
            <div id="alerts_list" class="alerts_list">
              <p class="pab_10">Alerts are being sent to: <span id="alerts_email_setting" class="bolder"></span>
                &nbsp;
                <a href='javascript:AlertsSection.changeEmail();' class="text_11">Change</a>
              </p>
              <ol id="alert_list_container">
              </ol>
              <ol id="alert_list_template" class="template">
                <!-- {% _.each(rows, function (alert) { %} -->
                <li class="alert_{%= h(alert.type) %}">
                  <div class="block pad_10">
                    <h3><strong>{%= formatAlertType(alert.type) %}</strong> - {%= h(alert.shortText) %}</h3>
                    <span class="time">{%= h(formatAlertTStamp(alert.tstamp)) %}</span>
                    <p>
                      {%= h(alert.text) %}
                    </p>
                  </div>
                </li>
                <!-- {% }); %} -->
              </ol>
            </div>
          </div>
        </div>
    </div></div></div><div class="bottom"><div><div>&nbsp;</div></div></div></div>
    <!-- END shadow box -->
  </div>

  <div id="settings" style="display:none">
    <!-- shadow box -->
    <div class="shadow_box"><div class="top"><div><div>&nbsp;</div></div></div><div class="cnt"><div class="pad"><div class="content">
      <div class="darker_block with_devider">
          <div class="pat_10">
              <ul class="tabs">
                <li><a href="#">Basic</a></li>
                <li><a href="#">Advanced</a></li>
              </ul>
          </div>
      </div>
      <div class="panes">
        <div class="brdr_exl_t">
          <form id="basic_settings_form" action="/settings/web">
            <div class="pad_10">
              <div class="basic">
                <div class="warn">
                  <ul>
                  </ul>
                </div>
                <h2 class="head_2_underline">Web Console</h2>
                <div class="form">
                  <div class="labeled_line">
                    <label class="block label for_input" for="port_inp">Port:</label>
                    <div class="line_cnt">
                      <input name="port" type="text" id="port_inp" class="text inp_short"/>
                    </div>
                  </div>
                </div>
                <h2 class="head_2_underline">Security <a class="text_11 tooltip"><span>What's this?</span>
                  <span class="tooltip_msg"><span>
                    Securing the server will force logins for administration and restrict web/REST services to authorized users.
                  </span></span>
                </a></h2>
                <div class="form">
                  <div>
                    <label><input type="checkbox" class="check" name="secureServer" id="secure_serv" value="1"/><input type="hidden" name="secureServer" value="0" /> Secure this Server</label>
                  </div>
                  <div class="clear"></div>
                  <div id="server_secure" style="display:none;">
                    <div class="labeled_line">
                      <label class="block label for_input" for="uname_inp">Username:</label>
                      <div class="line_cnt">
                        <input tabindex="1" type="text" name="username" id="uname_inp" disabled class="text inp_short" />
                        <a tabindex="4" href="javascript:SettingsSection.gotoSetupAlerts();" class="text_11 link">Setup Email Alerts</a>
                      </div>
                    </div>
                    <div class="labeled_line">
                      <label class="block label for_input" for="pass_inp">Password:</label>
                      <div class="line_cnt">
                        <input tabindex="2" name="password" type="password" id="pass_inp" disabled class="text inp_short"/>
                      </div>
                    </div>
                    <input type="hidden" name="username" value=""><input type="hidden" name="password" value="">
                    <div class="labeled_line">
                      <label class="block label for_input" for="verifyPassword">Verify Password:</label>
                      <div class="line_cnt">
                        <input tabindex="3" name="verifyPassword" id="verifyPassword" type="password" class="text inp_short"/>
                        <span class="dont-match">Password doesn't match</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="darker_block">
              <div class="pad_10">
                <div class="right save_cancel">
                  <button type="submit" class="save_button float_right">SAVE</button>
                  <a href="#" class="cancel_button float_right">CANCEL</a>
                </div>
              </div>
            </div>
          </form>
        </div>
        <div class="brdr_exl_t" style="display:none;">
          <form id="advanced_settings_form" action="/settings/advanced">
            <div class="pad_10">
              <div class="advanced">
                <div class="warn">
                  <ul>
                  </ul>
                </div>
                <h2 class="head_2_underline">Port Configuration <a class="text_11 tooltip"><span>What's this?</span>
                  <span class="tooltip_msg"><span>
                    The standard port for memcached is 11211 and the standard port for the proxy is 11212.
                    You can change port numbers here to meet the specific needs of your environment.
                  </span></span>
                </a></h2>
                <div class="form">
                  <div class="labeled_line">
                    <label class="block label for_input" for="proxyPort">Proxy Port:</label>
                    <div class="line_cnt">
                      <input type="text" name="proxyPort" id="proxyPort" class="text inp_short">
                    </div>
                  </div>
                  <div class="labeled_line">
                    <label class="block label for_input" for="directPort">Direct Port:</label>
                    <div class="line_cnt">
                      <input type="text" name="directPort" id="directPort" class="text inp_short">
                    </div>
                  </div>
                </div>
                <h2 class="head_2_underline">Alert settings</h2>
                <div class="form">
                  <div>
                    <label><input name="email_alerts" type="checkbox" class="check" value="1" id="alert_set"> Notify me by email with alerts <input type="hidden" name="email_alerts" value="0"></label>
                  </div>
                  <div id="alerts_settings_guts" style="display:none;">
                    <div class="labeled_line">
                      <label class="block label for_input" for="email_inp">Recipient Email Address:</label>
                      <div class="line_cnt">
                        <input type="text" name="email" id="email_inp" class="text inp_short">
                      </div>
                    </div>
                    <h2 class="form_section_title">Mail Server Settings</h2>
                    <div class="labeled_line">
                      <label class="block label for_input" for="email_server_from_field">Sender Email Address:</label>
                      <div class="line_cnt">
                        <input type="text" id="email_server_from_field" name="sender" class="text inp_short">
                      </div>
                    </div>
                    <div class="labeled_line">
                      <label class="block label for_input" for="email_server_user">Username:</label>
                      <div class="line_cnt">
                        <input type="text" name="email_server_user" id="email_server_user" class="text inp_short">
                      </div>
                    </div>
                    <div class="labeled_line">
                      <label class="block label for_input" for="email_server_pass">Password:</label>
                      <div class="line_cnt">
                        <input type="password" name="email_server_pass" id="email_server_pass" class="text inp_short">
                      </div>
                    </div>
                    <div class="labeled_line">
                      <label class="block label for_input" for="email_server_addr">Mail Server Address:</label>
                      <div class="line_cnt">
                        <input type="text" name="email_server_addr" id="email_server_addr" class="text inp_short">
                        Port:
                        <select name="email_server_port" class="select select_short">
                          <option value="25">25 - SMTP</option>
                          <option value="587">587 - SMTP Message Submit</option>
                          <option value="2525">2525 - SMTP Alternate Port</option>
                        </select>
                      </div>
                    </div>
                    <h2 class="form_section_title">Alert me when there are...</h2>
                    <div class="pat_10">
                      <table class="lined_tab brdr_exl_r">
                        <col width="" />
                        <col width="115" />
                        <col width="50" />
                        <tr>
                          <th>Critical Issues</th>
                          <th>Type</th>
                          <th>Active</th>
                        </tr>
                        <tr>
                          <td>A server is not responding</td>
                          <td>Email</td>
                          <td class="cntr"><input type="checkbox" value="1" name="alert_server_unresponsive" /><input type="hidden" name="alert_server_unresponsive" value="0" /></td>
                        </tr>
                        <tr>
                          <td>A server is down</td>
                          <td>Email</td>
                          <td class="cntr"><input type="checkbox" value="1" name="alert_server_down" /><input type="hidden" name="alert_server_down" value="0" /></td>
                        </tr>
                      </table>
                    </div>
                    <div class="pat_10">
                      <table class="lined_tab brdr_exl_r">
                        <col width="" />
                        <col width="115" />
                        <col width="50" />
                        <tr>
                          <th>Attention Required</th>
                          <th>Type</th>
                          <th>Active</th>
                        </tr>
                        <tr>
                          <td>A bucket has been deleted</td>
                          <td>Email</td>
                          <td class="cntr"><input type="checkbox" value="1" name="alert_bucket_deleted" /><input type="hidden" name="alert_bucket_deleted" value="0" /></td>
                        </tr>
                      </table>
                    </div>
                    <div class="pat_10">
                      <table class="lined_tab brdr_exl_r">
                        <col width="" />
                        <col width="115" />
                        <col width="50" />
                        <tr>
                          <th>Informational Issues</th>
                          <th>Type</th>
                          <th>Active</th>
                        </tr>
                        <tr>
                          <td>A new server joins a cluster</td>
                          <td>Email</td>
                          <td class="cntr"><input type="checkbox" value="1" name="alert_server_joined" /><input type="hidden" name="alert_server_joined" value="0" /></td>
                        </tr>
                        <tr>
                          <td>A server leaves a cluster</td>
                          <td>Email</td>
                          <td class="cntr"><input type="checkbox" value="1" name="alert_server_left" /><input type="hidden" name="alert_server_left" value="0" /></td>
                        </tr>
                        <tr>
                          <td>A new bucket has been created</td>
                          <td>Email</td>
                          <td class="cntr"><input type="checkbox" value="1" name="alert_bucket_created" /><input type="hidden" name="alert_bucket_created" value="0" /></td>
                        </tr>
                        <tr>
                          <td>Bucket authentication failure</td>
                          <td>Email</td>
                          <td class="cntr"><input type="checkbox" value="1" name="alert_bucket_auth_failed" /><input type="hidden" name="alert_bucket_auth_failed" value="0" /></td>
                        </tr>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="darker_block">
              <div class="pad_10">
                <div class="right save_cancel">
                  <button type="submit" class="save_button float_right">SAVE</button>
                  <a href="#" class="cancel_button float_right">CANCEL</a>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div></div></div><div class="bottom"><div><div>&nbsp;</div></div></div></div>
    <!-- END shadow box -->
  </div>

  <div id="coming" style="display:none">
    <h1>Coming in Beta 2</h1>
  </div>

</tr>
</table>

</div> <!-- mainContainer -->

<div class="page-footer">
  <div class="main_holder">
  <h1>Copyright 2010 <a href="http://northscale.com" target="_blank">NorthScale, Inc.</a> All rights reserved.</h1>
</div>

</div> <!-- container -->

<!-- dialogs -->
</div> <!-- #container -->
<div class="jqmWindow" id="bucket_details_dialog">
  <div class="lbox type_2 shadow_box">
    <div class="cnt">
      <div class="content">
        <div class="header_2">CONFIGURE BUCKET</div>
          <form class="lbox_form">
            <h3>Bucket Settings</h3>
            <table>
            <col width="172" />
            <col width="" />
              <tr>
                <td class="label"><label>Bucket Name:</label></td>
                <td><input type="text" class="inp inp_size_2" /></td>
              </tr>
              <tr>
                <td class="label"><label>Bucket Type:</label></td>
                <td>
                  <select class="inp_size_2">
                    <option>Membase</option>
                  </select>
                </td>
              </tr>
              <tr>
                <td class="label"><label>Number of Servers:</label></td>
                <td class="content_cell">
                  <div class="spac_5"></div>
                  <label><input type="radio" name="num_serv" /> Stretch to All</label><br />
                  <label><input type="radio" name="num_serv" /> Fixed</label>
                  <input type="text" value="3" /> (of 12 servers in this cluster)
                </td>
              </tr>
            </table>
            <h3>Access Control</h3>
            <table>
            <col width="172" />
            <col width="" />
              <tr>
                <td></td>
                <td>
                  <label><input type="radio" name="access_bucket" /> SASL Password</label>
                </td>
              </tr>
              <tr>
                <td></td>
                <td>
                  <input type="password" class="inp inp_size_2" value="Password" />
                </td>
              </tr>
              <tr>
                <td></td>
                <td>
                  <label><input type="radio" name="access_bucket" /> Key Prefix</label>
                </td>
              </tr>
              <tr>
                <td></td>
                <td>
                  <label><input type="radio" name="access_bucket" /> Sourse IP Address</label>
                </td>
              </tr>
            </table>
            <h3>Cache Size</h3>
            <div>
              <table class="full_width">
              <col width="172" />
              <col width="" />
                <tr>
                  <td colspan="2">
                    <span class="total_ram">Total RAM (192 Gb)</span>
                  </td>
                </tr>
                <tr>
                  <td class="label"><label>Dynamic RAM Allocated:</label></td>
                  <td>
                    <div class="float_left">
                      <input type="text" value="30" /> MB
                    </div>
                    <table class="RAM_diagramm float_right">
                    <col width="">
                    <col width="">
                    <col width="">
                    <col width="">
                      <tr>
                        <td colspan="4">
                          <span class="diagr_ram">
                            <span style="width: 33%;" class="blue"></span>
                            <span style="width: 68%;" class="green"></span>
                          </span>
                        </td>
                      </tr>
                      <tr class="diagr_labels">
                        <td class="blue">Membase Quota (15Gb)</td>
                        <td class="green">Other (5Gb)</td>
                        <td>Free (12Gb)</td>
                        <td class="right">32Gb</td>
                      </tr>
                    </table>
                  </td>
                </tr>
              </table>
              <h3>Storage Size</h3>
              <div>
                <table class="full_width">
                <col width="172" />
                <col width="" />
                  <tr>
                    <td colspan="2"><label><input type="checkbox" /> Enable Persistence</label></td>
                  </tr>
                  <tr>
                    <td colspan="2">
                      <span class="total_ram">Total RAM (192 Gb)</span>
                    </td>
                  </tr>
                  <tr>
                    <td class="label">Solid State Quota:</td>
                    <td>
                      <div class="float_left">
                        <input type="text" value="30" /> GB
                      </div>
                      <table class="RAM_diagramm float_right">
                      <col width="">
                      <col width="">
                      <col width="">
                      <col width="">
                        <tr>
                          <td colspan="4">
                            <span class="diagr_ram">
                              <span style="width: 33%;" class="blue"></span>
                              <span style="width: 68%;" class="green"></span>
                            </span>
                          </td>
                        </tr>
                        <tr class="diagr_labels">
                          <td class="blue">Membase Quota (15Gb)</td>
                          <td class="green">Other (5Gb)</td>
                          <td>Free (12Gb)</td>
                          <td class="right">32Gb</td>
                        </tr>
                      </table>
                    </td>
                  </tr>
                  <tr>
                    <td colspan="2">
                      <span class="total_ram">Total RAM (192 Gb)</span>
                    </td>
                  </tr>
                  <tr>
                    <td class="label">Solid State Quota:</td>
                    <td>
                      <div class="float_left">
                        <input type="text" value="30" /> GB
                      </div>
                      <table class="RAM_diagramm float_right">
                      <col width="">
                      <col width="">
                      <col width="">
                      <col width="">
                        <tr>
                          <td colspan="4">
                            <span class="diagr_ram">
                              <span style="width: 33%;" class="blue"></span>
                              <span style="width: 68%;" class="green"></span>
                            </span>
                          </td>
                        </tr>
                        <tr class="diagr_labels">
                          <td class="blue">Membase Quota (15Gb)</td>
                          <td class="green">Other (5Gb)</td>
                          <td>Free (12Gb)</td>
                          <td class="right">32Gb</td>
                        </tr>
                      </table>
                    </td>
                  </tr>
                </table>
              </div>
              <h3>Replication</h3>
              <div>
                <table class="full_width">
                <col width="172" />
                <col width="" />
                  <tr>
                    <td>
                      <label><input type="checkbox" /> Enable Persistence</label>
                    </td>
                    <td>
                      <input type="text" /> number of replica (backup) copies:
                    </td>
                  </tr>
                </table>
              </div>
              <h3>Blocking Behaviuor on Writes</h3>
              <div>
                <table class="full_width">
                <col width="172" />
                <col width="" />
                  <tr>
                    <td colspan="2">
                      <label>
                        <input type="radio" /> Wait for replication to complete
                      </label>
                    </td>
                  </tr>
                  <tr>
                    <td></td>
                    <td>
                      <label>
                        <input type="text" value="3" />
                        Wait until this many copies sent
                      </label>
                    </td>
                  </tr>
                  <tr>
                    <td colspan="2">
                      <label>
                        <input type="radio" /> Wait until stored to persistent media
                      </label>
                    </td>
                  </tr>
                </table>
              </div>
            </div>

              <div class="pas_20">
              <div class="right save_cancel">
                <button class="save_button float_right" type="submit">SAVE</button>
                <button class="delete_button float_right">DELETE</button>
                <a href="#" class="jqmClose cancel_button float_right">CANCEL</a>
              </div>
              </div>

          </form>
      </div>
    </div>
  </div>
</div>
<div class="jqmWindow" id="add_new_bucket_dialog">
  <div class="lbox">
    <div class="top">
      <div class="top_left"></div>
      <div class="top_right"></div>
      <div class="top_center"></div>
    </div>
    <div class="center">
      <div class="pad">
        <p class="lbox_header">Create New Data Bucket</p>
        <div id="add_new_bucket_errors_container" class="warning" style="padding:10px 20px;"></div>
        <div id="add_new_bucket_errors_template" class="template">
          <strong>Couldn't create bucket due to:</strong>
          <ul>
            <!-- {% _.each(rows, function (e) { %} -->
            <li>{%= h(e) %}</li>
            <!-- {% }); %} -->
          </ul>
        </div>

        <form id="add_new_bucket_form">
          <p><label><b>Bucket Name:</b>
                     <input type="text" name="name" class="inp" style="width:200px;" tabindex="1"
                         value="No spaces, alphanumeric up to 12 characters"/></label></p>
          <p><label><b>Bucket Type:</b>
                     <select name="bucketType">
                       <option value="cache">Cache</option>
                       <option value="database">Database</option>
                     </select></label></p>
          <p><b>Number of servers:</b>
                 <label><input type="radio" name="numServersAll" value="true" checked="checked"/>Stretch to All</label>
                 <br/>
                 <label><input type="radio" name="numServersAll" value="false"/>Fixed</label>
                 <label><input type="text" name="numServers" class="inp" style="width:30px;"
                             value=""><span class="numServers-details">(of N servers in cluster)</span>
                                           <!-- (of 12 servers in cluster) -->
                         </label></p>

          <h2>Blocking Behavior</h2>
          <table>
            <tr>
              <td>
                <p><label><input type="checkbox" name="waitForReplica" class="inp"/>
                           Wait for replication
                           </label></p>
              </td>
              <td>
                <p><label><input type="text" name="waitForReplicaCount" class="inp" style="width:30px;"
                              value="3"/>
                           Wait until this many copies sent
                           </label></p>
              </td>
            </tr>
            <tr>
              <td>
                <p><label><input type="checkbox" name="waitForPersist" class="inp"/>
                           Wait for disk write
                           </label></p>
              </td>
            </tr>
          </table>

          <h2>Replication</h2>
          <table>
            <tr>
              <td>
                <p><label><input type="checkbox" name="replicate" class="inp"/>
                           Enable replication
                           </label></p>
              </td>
              <td>
                <p><label><input type="text" name="replicaCount" class="inp" style="width:30px;"
                               value="3"/>
                           Number of backup (replica) copies
                           </label></p>
              </td>
            </tr>
          </table>

          <h2>Storage</h2>
          <p><label><b>Cache Size:</b>
                     <input type="text" name="cacheSize" class="inp" style="width:40px;">
                     <span class="cache-details">&nbsp;</span>
                     <!-- MB x 3 server nodes = 192MB Total Cache Size/30GB Cluster memory available. --></label></p>

          <p><label><b>Storage Size:</b>
                     <input type="text" name="storageSize" class="inp" style="width:40px;">
                     <span class="storage-details">&nbsp;</span>
                     <!-- MB x 3 server nodes = 192MB Total Storage Size/30GB Cluster storage available. --></label></p>

          <br/>
          <p><span class="block pas_20 info_text">
               NOTE: The username and password for this data bucket is the same as the bucket name above.</span></p>
          <div class="pas_20">
            <div class="right save_cancel">
              <button class="save_button float_right" type="submit">CREATE</button>
              <a href="#" class="jqmClose cancel_button float_right">CANCEL</a>
            </div>
          </div>
        </form>
      </div>
    </div>
    <div class="bottom">
      <div class="bottom_left"></div>
      <div class="bottom_right"></div>
      <div class="bottom_center"></div>
    </div>
  </div>
</div>
<div class="jqmWindow" id="flush_cache_dialog_container">
</div>
<div class="template" id="flush_cache_dialog_template">
  <div class="lbox">
    <div class="top">
      <div class="top_left"></div>
      <div class="top_right"></div>
      <div class="top_center"></div>
    </div>
    <div class="center">
      <div class="pad">
        <p class="lbox_header">
          Bucket Properties
        </p>
        <div class="pas_20">
          <p class="u_line text_14">
            <span class="label">Flushing Bucket <strong class="bucket_name">{%= h(bucket.name) %}</strong>:</span>
            <strong>
              {%=h(bucket.basicStats.cacheSize)%}
                [MB x {%=h(DAO.getBucketNodesCount(bucket))%} = {%=h(DAO.getBucketNodesCount(bucket) * bucket.basicStats.cacheSize)%}MB Total Cache]
            </strong>
          </p>
          <div class="warning pat_20">
            <strong>Warning</strong> - Flushing will reset this bucket to be empty. Are you sure you want to flush this data bucket?
          </div>
        </div>
        <div class="pas_20">
          <div class="right save_cancel">
            <a class="save_button float_right" href="{%=renderJSLink('BucketsSection.completeFlushCache',bucket.uri)%}">FLUSH</a>
            <a href="#" class="jqmClose cancel_button float_right">CANCEL</a>
          </div>
        </div>
      </div>
    </div>
    <div class="bottom">
      <div class="bottom_left"></div>
      <div class="bottom_right"></div>
      <div class="bottom_center"></div>
    </div>
  </div>
</div>
<div class="jqmWindow" id="bucket_remove_dialog">
  <div class="lbox">
    <div class="top">
      <div class="top_left"></div>
      <div class="top_right"></div>
      <div class="top_center"></div>
    </div>
    <div class="center">
      <div class="pad">
        <p class="lbox_header">
          Bucket Properties
        </p>
        <div class="pas_20">
          <p class="u_line text_14">
            <span class="norm_14">Removing</span>
            <strong class="bucket_name">&nbsp;</strong>
          </p>
          <div class="warning pat_20">
		<strong>Warning</strong> - Removing this bucket will result in complete data loss for this bucket. Are you sure you want to remove it?
          </div>
        </div>
        <div class="pas_20">
          <div class="right save_cancel">
            <a class="save_button float_right" href="javascript:BucketsSection.removeCurrentBucket();">REMOVE</a>
            <a href="#" class="jqmClose cancel_button float_right">CANCEL</a>
          </div>
        </div>
      </div>
    </div>
    <div class="bottom">
      <div class="bottom_left"></div>
      <div class="bottom_right"></div>
      <div class="bottom_center"></div>
    </div>
  </div>
</div>
<div class="jqmWindow always-fixed" id="join_cluster_dialog">
  <!-- Join cluster -->
  <div class="lbox join_cluster type_2 shadow_box">
    <div class="content">
      <div class="pad">
        <p class="lbox_header header_2">ADD SERVER</p>
        <p class="warning pat_10" id="join_cluster_dialog_errors_container"></p>
        <p id="join_cluster_dialog_errors_template" class="template">
        <!-- {% _.each(rows, function (e) { %} -->
        <strong>Attention</strong> - {%= h(e) %}<br>
        <!-- {% }); %} -->
        </p>
        <form>
          <div class="pas_20">
            <table>
              <tr>
                <td>
                  <div class="u_line_sm">
                    <label class="label" for="add-server-hostname">Server IP Address*:</label>
                    <input type="text" class="inp" name="hostname" id="add-server-hostname" />
                    <a class="text_11 tooltip"><span>What's this?</span>
                      <span class="tooltip_msg"><span>
                        This is the hostname or IP address of a server node that you wish to add.
                      </span></span>
                    </a>
                  </div>
                </td>
              </tr>
              <tr>
                <td class="th">
                  Security <a class="text_11 tooltip"><span>What's this?</span>
                    <span class="tooltip_msg"><span>
                      If you are add server node that has been secured, you must enter a username
                      and password.  These are the username and password of the node you are joining, not of your
                      current server node.
                    </span></span>
                  </a>
                </td>
              </tr>
              <tr>
                <td>
                  <div class="u_line_sm">
                    <label class="label" for="user_inp">Username:</label>
                    <input type="text" class="inp" name="user" id="user_inp" />
                  </div>
                  <div class="u_line_sm">
                    <label class="label" for="password_inp">Password:</label>
                    <input type="password" class="inp" name="password" id="password_inp" />
                  </div>
                </td>
              </tr>
            </table>
          </div>
          <div class="right save_cancel footer_bg pas_20">
            <button type="submit" class="save_button button_3 float_right">ADD SERVER</button>
            <a class="jqmClose cancel_button float_right" href="#">CANCEL</a>
          </div>
        </form>
      </div>
    </div>
  </div>
  <!-- END join cluster -->
</div>
<!--  eject confirmation dialog -->
<div class="jqmWindow always-fixed" id="eject_confirmation_dialog">
  <div class="lbox type_2 shadow_box">
    <div class="content">
      <div class="pad">
        <p class="lbox_header header_2">
        Confirm Node Removal
        </p>
      </div>
      <div class="pas_20">
        <div class="warning pat_20">
          <strong>Warning</strong> - Removing this node from the cluster will reduce cache capacity across all data buckets.
                                       Are you sure you want to remove this node from the cluster?
        </div>
      </div>
      <div class="right save_cancel pas_20 footer_bg">
        <a class="save_button float_right" href="#">REMOVE</a>
        <a href="#" class="jqmClose cancel_button float_right">CANCEL</a>
      </div>
    </div>
  </div>
</div>
<!-- END eject confirmation dialog -->
<!--  add confirmation dialog -->
<div class="jqmWindow always-fixed" id="add_confirmation_dialog">
  <div class="lbox type_2 shadow_box">
    <div class="content">
      <div class="pad">
        <p class="lbox_header header_2">
        Confirm Node Addition
        </p>
      </div>
      <div class="pas_20">
        <div class="warning pat_20">
          <strong>Warning</strong> - Adding a node will cause it to lose all data on that node.
        </div>
      </div>
        <div class="right save_cancel pas_20 footer_bg">
          <a class="save_button float_right" href="#">ADD NODE</a>
            <a href="#" class="jqmClose cancel_button float_right">CANCEL</a>
        </div>
    </div>
  </div>
</div>
<!-- END add confirmation dialog -->
<!--  add confirmation dialog -->
<div class="jqmWindow always-fixed" id="failover_confirmation_dialog">
  <div class="lbox type_2 shadow_box">
    <div class="content">
      <div class="pad">
        <p class="lbox_header header_2">
        Confirm Node Fail Over
        </p>
      </div>
      <div class="pas_20">
        <div class="warning pat_20">
          <strong>Warning</strong> - Failing over node will push it out of cluster. Please, confirm.
        </div>
      </div>
      <div class="pas_20 footer_bg">
        <div class="right save_cancel">
          <a class="save_button float_right" href="#">FAIL OVER</a>
            <a href="#" class="jqmClose cancel_button float_right">CANCEL</a>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- END add confirmation dialog -->
<!-- configure view -->
<div class="jqmWindow" id="analytics_settings_dialog">
  <div class="lbox join_cluster">
    <div class="top">
      <div class="top_left"></div>
      <div class="top_right"></div>
      <div class="top_center"></div>
    </div>
    <div class="center">
      <div class="pad">
        <p class="lbox_header">Configure View</p>
        <div class="pas_20">
          <div class="pat_10">
            <div class="float_50">
              <label class="item">
                <input type="checkbox" name="ops" />
                <span class="cnt">
                  <span>Operations per second</span>
                  Sum of set, get, increment, decrement, cas, delete and flush operations per second
                </span>
              </label>
              <label class="item">
                <input type="checkbox" name="misses" />
                <span class="cnt">
                  <span>Misses per second</span>
                  Sum of get, delete, increment, decrement and cas misses per second
                </span>
              </label>
              <label class="item">
                <input type="checkbox" name="cmd_get" />
                <span class="cnt">
                  <span>Gets per second</span>
                  Get operations per second
                </span>
              </label>
              <label class="item">
                <input type="checkbox" name="cmd_set" />
                <span class="cnt">
                  <span>Sets per second</span>
                  Set operations per second
                </span>
              </label>
              <label class="item">
                <input type="checkbox" name="updates" />
                <span class="cnt">
                  <span>Updates per second</span>
                  Sum of successful sets, increments, decrements and cas operations
                </span>
              </label>
              <label class="item">
                <input type="checkbox" name="get_misses" />
                <span class="cnt">
                  <span>Get Misses per second</span>
                  Get misses per second
                </span>
              </label>
              <label class="item">
                <input type="checkbox" name="bytes_written" />
                <span class="cnt">
                  <span>Bytes Sent per second</span>
                  Network bytes sent by all servers, per second
                </span>
              </label>
              <label class="item">
                <input type="checkbox" name="get_hits" />
                <span class="cnt">
                  <span>Get Hits per second</span>
                  Successfully completed get operations per second
                </span>
              </label>
              <label class="item">
                <input type="checkbox" name="bytes_read" />
                <span class="cnt">
                  <span>Bytes Received per second</span>
                  Network bytes received by all servers, per second
                </span>
              </label>
              <label class="item">
                <input type="checkbox" name="hit_ratio" />
                <span class="cnt">
                  <span>Hit Ratio</span>
                  The ratio of get hits to get commands issued
                </span>
              </label>
              <label class="item">
                <input type="checkbox" name="evictions" />
                <span class="cnt">
                  <span>Evictions per second</span>
                  Total number of evictions of least recently used items, per second
                </span>
              </label>
              <label class="item">
                <input type="checkbox" name="total_items" />
                <span class="cnt">
                  <span>Total Items</span>
                  Total number of items in the cache, including expired items
                </span>
              </label>
              <div class="clear"></div>
            </div>
            <form>
              <div class="right save_cancel">
                <a class="jqmClose save_button float_right" href="#">CLOSE</a>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <div class="bottom">
      <div class="bottom_left"></div>
      <div class="bottom_right"></div>
      <div class="bottom_center"></div>
    </div>
  </div>
  <!-- #analytics_settings_dialog -->
</div>
<!-- END configure analytics -->
<!-- Leave cluster -->
<div class="jqmWindow" id="generic_dialog">
  <div class="lbox">
    <div class="top">
      <div class="top_left"></div>
      <div class="top_right"></div>
      <div class="top_center"></div>
    </div>
    <div class="center">
      <div class="pad">
        <p class="lbox_header">Leave Cluster</p>
        <div class="pas_20">
          <div class="pat_10">
            <p class="dialog-text">Really eject this node from cluster?</p>
          </div>
          <div class="right save_cancel">
            <div class="float_right">
              <button type="button" class="save_button button_3 float_right">OK</button>
              <a class="jqmClose cancel_button float_right" href="#">CANCEL</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="bottom">
      <div class="bottom_left"></div>
      <div class="bottom_right"></div>
      <div class="bottom_center"></div>
    </div>
  </div>
</div>
<!-- </div> --> <!-- #container -->
<!-- About -->
<div class="jqmWindow" id="about_server_dialog">
  <div class="lbox">
    <div class="config-top">
      <img src="../images/northscale-logo.png" alt="NorthScale Logo" />
      <h1>About NorthScale Server</h1>
    </div>
    <div class="center">
      <p class="dialog-text" id="about_versions"></p>
      <ul>
        <li><a target="_blank" href="http://northscale.com/support">Get Support</a></li>
        <li><a target="MCWebHelp" href="/docs/index_CSH.html#1001|northscale">Documentation</a></li>
      </ul>
    </div>
    <div class="config-bottom">
      <button name="close" value="Close" class="submit close direction-button" id="about-close" type="submit">Close</button>
      <script type="text/javascript">
        $(function(){
          $('.config-bottom button#about-close').click(function (e) {
            e.preventDefault();
            hideDialog('about_server_dialog');
          });
        });
      </script>
    </div>
  </div>
</div>
<!-- END about -->
<div class="auth_block" id="auth_dialog">
  <div class="page-header">
    <div class="cnt_holder main_holder">
      <div class="topper_nav">
        <a href="javascript:showAbout();">About</a>
        <b></b>
        <a style="display: none;" class="sign-out-link" href="javascript:ThePage.signOut();">Sign Out</a>
      </div>
      <a href="/index.html"><span></span></a>
    </div>
  </div>
  <div class="pad">
    <div class="alert_red" id="auth_failed_message" style="display:none;">
      <div class="al_text">
        Login failed. Try again.
      </div>
    </div>
    <div class="alert_red" id="auth_inactivity_message" style="display:none;">
      <div class="al_text">
        The system has logged you out after 5 minutes of inactivity.
      </div>
    </div>
    <!-- <h1>Welcome</h1> TODO: CSS fixup needed here-->
    <h1>&nbsp;</h1>
    <form id="login_form" class="form block">
      <table>
        <col width="" />
        <col width="" />
        <tr>
          <td class="label"><label for="login_inp">Username:</label></td>
          <td><input type="text" name="login" id="login_inp" class="inp" /></td>
        </tr>
        <tr>
          <td class="label"><label for="password2_inp">Password:</label></td>
          <td>
            <input type="password" name="password" id="password2_inp" class="inp" />
          </td>
        </tr>
        <tr>
          <td class="label"></td>
          <td>
            <div class="right">
              <!-- <a href="#" class="forgot tdn">Forgot password?</a><br /> -->
              <div class="pat_10">
                <input type="submit" value="Sign In" class="submit" />
              </div>
            </div>
          </td>
        </tr>
      </table>
    </form>
    <script type="text/javascript">
      $('#login_form').bind('submit', function (e) {
        e.preventDefault();
        loginFormSubmit();
      });
    </script>
  </div>
  <div class="page-footer">
    <div class="main_holder">
      <h1>Copyright &copy; 2010 <a href="http://northscale.com">NorthScale, Inc.</a> All rights reserved.</h1>
    </div>
  </div>
</div>
<!-- END auth_block -->
<div class="init_block" id="init_block">
  <div class="page-header">
    <div class="cnt_holder main_holder">
      <div class="topper_nav">
        <a href="javascript:showAbout();">About</a>
        <b></b>
        <a target="MCWebHelp" href="/docs/index_CSH.html#1001|northscale">Help</a>
        <a style="display: none;" class="sign-out-link" href="javascript:ThePage.signOut();">Sign Out</a>
      </div>
    </div>
  </div>
  <div class="pad" id="init_welcome_dialog">
    <div class="pad-header">
      <div class="tagline">
        ELASTIC DATA MANAGEMENT
      </div>
      <div class="version">
        NorthScale Server 1.6.0 Beta 1
      </div>
      <div class="elastro-cling"></div>
    </div>
    <!-- screen S.1 -->
    <div class="alert_red license_failed_message" style="display:none;">
      <div class="al_text">
        Invalid license. Please try again.
      </div>
    </div>
    <h1>Congratulations</h1>
    <form id="init_welcome_form">
      <p>
        You have successfully installed the NorthScale Server.
      </p>
      <p>
        Please enter your NorthScale license key below and press setup to step through a brief server setup wizard.
      </p>
      <!-- Disabled during BETA PERIOD -->
      <input type="text" name="license" class="inp license-input" disabled="disabled"/>
      <div class="pat_10">
        <input type="image" name="setup" value="Setup" class="submit next" src="../images/welcome-setup-button.png" style="width:145px; height:55px; margin-left:-7px; color:#fff;" />
      </div>
      <!-- Hidden for Beta.
      <p style="font-size:0.9em;">
        If you don't have a NorthScale license key, you can <a href="#">request one here</a>.
      </p>
      -->
    </form>
    <div class="welcome-footer">
      Copyright &copy; 2010 NorthScale, Inc. All Rights Reserved
      <a href="http://northscale.com/company/contact.html" id="welcome-footer-contact">Contact</a>
    </div>
  </div>
  <!-- END welcome_block -->
  <div class="pad" id="init_resources_dialog">
    <!-- screen S.3 -->
    <div class="config-top">
      <h1>Configure Server</h1>
      <h2>Step <span class="current-step">1</span> of 3</h2>
    </div>
    <div class="alert_red" id="init_resources_failed_message" style="display:none;">
      <div class="al_text">
        Invalid Resource. Try again.
      </div>
    </div>
    <form id="init_resources_form" class="form block">
      <input type="submit" style="display:none" />
      <div id="resource_panel_container"></div>
    </form>
    <div class="config-bottom">
      <button name="next" value="Next" class="submit next direction-button" id="step-1-next" type="submit">Next</button>
    </div>
    <script type="text/javascript">
      $(function(){
        $('#step-1-next').click(function (e) {
          e.preventDefault();
          NodeDialog.submitResources();
        });
        $('#init_resources_form').bind('submit', function (e) {
          e.preventDefault();
          NodeDialog.submitResources();
        });
      });
    </script>
  </div>
  <!-- END init_resources_block -->
  <div class="pad" id="init_cluster_dialog">
    <!-- screen S.5 -->
    <div class="config-top">
      <h1>Configure Server</h1>
      <h2>Step <span class="current-step">2</span> of 3</h2>
    </div>
    <div class="alert_red" id="init_cluster_failed_message" style="display:none;">
      <div class="al_text">
        Could not join the cluster because of bad input.
      </div>
    </div>
    <h2 class="question">Would you like to join an existing Membase Cluster?</h2>
    <p class="pad_10">
      If this new server will be added to an existing membase cluster
      you may join that cluster now. To do so select "Join a cluster now". You
      can join a cluster later, but should do so before storing important data
      on this server.  When joining a cluster, the joining server will drop all
      of the data it currently holds.
    </p>
    <div class="warning pat_10 join_cluster_dialog_errors_container"></div>
    <form id="init_cluster_form" class="form block"><input type="submit" style="display:none;" />
      <div class="pat_10"><label>
        <input type="radio" name="join_cluster" id="no-join-cluster" checked />
        Do NOT join a cluster now, maybe later.
      </label></div>
      <div class="pat_10">
        <label>
          <input type="radio" name="join_cluster" id="join-cluster" />
          Join a cluster now.
          <div class="login-credentials">
            <div>
              <label for="clusterMemberHostIp">IP Address:</label>
              <input type="text" class="inp" name="hostname" id="clusterMemberHostIp" value="" />
              <br class="clear" />
            </div>
            <div>
              <label for="user_inp">Username:</label>
              <input type="text" class="inp" name="user" id="user_inp" value="Administrator" />
              <br class="clear" />
            </div>
            <div>
              <label for="password_inp">Password:</label>
              <input type="password" class="inp" name="password" id="password_inp" />
              <br class="clear" />
            </div>
          </div>
        </label>
      </div>
    </form>
    <div class="config-bottom">
      <button name="next" value="Next" class="submit next direction-button" id="step-2-next" type="submit">Next</button>
      <button name="next" value="Back" class="submit back direction-button" id="step-2-back" type="submit">Back</button>
    </div>
    <script type="text/javascript">
      $(function(){
        $('input#join-cluster').click(function (e) {
          $('.login-credentials').slideDown();
        });
        $('input#no-join-cluster').click(function (e) {
          $('.login-credentials').slideUp();
        });
        $('div.config-bottom button#step-2-next').click(NodeDialog.submitClusterForm);
        $('#init_cluster_form').bind('submit', NodeDialog.submitClusterForm);
        $('div.config-bottom button#step-2-back').click(function (e) {
          e.preventDefault();
          showInitDialog("resources");
        });
      });
    </script>
  </div>
  <!-- END init_cluster_block -->
  <div class="pad" id="init_secure_dialog">
    <!-- screen S.5 -->
    <div class="config-top">
      <h1>Configure Server</h1>
      <h2>Step <span class="current-step">3</span> of 3</h2>
    </div>
    <div class="alert_red" id="init_secure_failed_message" style="display:none;">
      <div class="al_text">
        Could not secure the server because of bad input.
      </div>
    </div>
    <h2 class="title">Secure this Server</h2>
    <p class="pad_10">
      Please create an administrator account this Server. If you want to join other
      servers to this one to form a cluster, you will need to use these administrator
      credentials in the "join cluster" process.
    </p>
    <form id="init_secure_form" class="form block" action="/settings/web">
      <input type="text" name="port"
            style="display:none;" value="SAME"/>
      <input type="text" name="initStatus"
            style="display:none;" value="done"/>
      <div class="warn">
        <ul></ul>
      </div>
      <div class="username-input">
        <label for="secure-username">Username:</label>
        <input type="text" name="username" class="inp" value="Administrator" id="secure-username" maxlength="24" />
      </div>
      <div class="password-input">
        <label for="secure-password">Password:</label>
        <input type="password" name="password" class="inp" id="secure-password" maxlength="24" />
      </div>
      <div class="password-input-verify">
        <label for="secure-password">Verify Password:</label>
        <input type="password" name="password" class="inp" id="secure-password-verify" maxlength="24" />
      </div>
      <button type="submit" style="display:none;"></button>
    </form>
    <div class="config-bottom">
      <button name="finish" value="Finish" class="submit finish direction-button" id="step-3-finish" type="submit">Finish</button>
      <button name="back" value="Back" class="submit back direction-button" id="step-3-back" type="button">Back</button>
    </div>
    <script type="text/javascript">
      $(function(){
        $('div.config-bottom button#step-3-finish').click(function (e) {
          e.preventDefault();
          $('#init_secure_form').submit();
        });
        $('div.config-bottom button#step-3-back').click(function (e) {
          e.preventDefault();
          showInitDialog("cluster");
        });
      });
    </script>
  </div>
  <!-- END init_secure_block -->
  <div class="page-footer">
    <div class="main_holder">
      <h1>Copyright 2010 <a href="http://northscale.com">NorthScale, Inc.</a> All rights reserved.</h1>
    </div>
  </div>
</div>
<!-- END init_block -->
<div class="jqmWindow" id="edit_server_settings_dialog">
  <div class="lbox type_2 shadow_box">
    <div class="cnt">
      <div class="content">
        <div class="top_save_cancel right save_cancel float_right">
          <button type="submit" class="save_button float_right">SAVE</button>
          <a class="jqmClose cancel_button float_right" href="#">CANCEL</a>
        </div>
        <p class="lbox_header header_2">EDIT SERVER</p>
        <form class="lbox_form">
          <h3>Server configuration<h3>
          <table>
          <col width="230" />
          <col width="300" />
            <tr>
              <td class="label">
                <label>Server name:</label>
              </td>
              <td>
                <input type="text" name="hostname" disabled class="inp inp_size_2">
              </td>
            </tr>
            <tr>
              <td class="label">IP Address:<label></label></td>
              <td><input type="text" name="ip" disabled class="inp inp_size_2"></td>
            </tr>
            <tr>
              <td class="label"><label>Operating System:</label></td>
              <td><input type="text" name="os" disabled class="inp inp_size_2"></td>
            </tr>
            <tr>
              <td class="label"><label>Version:</label></td>
              <td><input type="text" name="version" disabled class="inp inp_size_2"></td>
            </tr>
            <tr>
              <td class="label">License Key:<label></label></td>
              <td><input type="text" name="license" disabled class="inp inp_size_2"></td>
            </tr>
            <tr>
              <td class="label"><label>Direct Port:</label></td>
              <td><input type="text" name="directPort" class="inp inp_size_1"></td>
            </tr>
            <tr>
              <td class="label"><label>Proxy Port:</label></td>
              <td><input type="text" name="proxyPort" class="inp inp_size_1"></td>
            </tr>
          </table>

          <h3>Memory Cache</h3>
          <table>
          <col width="230" />
          <col width="300" />
            <tr>
              <td class="label"><label>Dynamic RAM Allocated:</label></td>
              <td><input type="text" name="ramQuota" class="inp inp_size_1"> GB</td>
            </tr>
          </table>

          <h3>
            <a href="#" class="add_btn"></a>
            Solid State Storage
          </h3>
          <table>
          <col width="230" />
          <col width="300" />
            <tr>
              <td class="label"><label>Flash One - Memory Allocated:</label></td>
              <td><input type="text" name="fl_one" class="inp inp_size_1"> GB</td>
            </tr>
            <tr>
              <td class="label"><label>Path:</label></td>
              <td>
                <input type="text" name="fl_one" class="inp inp_size_3">
                <a href="#" class="del_link">Delete</a>
              </td>
            </tr>
          </table>

          <h3>
            <a href="#" class="add_btn"></a>
            Disk Storage
          </h3>
          <table>
          <col width="230" />
          <col width="300" />
            <tr>
              <td class="label"><label>Disk One Quota:</label></td>
              <td>
                <span class="float_right">Total: 300Gb</span>
                <input type="text" name="fl_one" class="inp inp_size_1"> GB
              </td>
            </tr>
            <tr>
              <td class="label"><label>Path:</label></td>
              <td>
                <input type="text" name="fl_one" class="inp inp_size_3">
                <a href="#" class="del_link">Delete</a>
              </td>
            </tr>
            <tr>
              <td class="label"><label>Disk Two Quota:</label></td>
              <td>
                <span class="float_right">Total: 300Gb</span>
                <input type="text" name="fl_one" class="inp inp_size_1"> GB
              </td>
            </tr>
            <tr>
              <td class="label"><label>Path:</label></td>
              <td>
                <input type="text" name="fl_one" class="inp inp_size_3">
                <a href="#" class="del_link">Delete</a>
              </td>
            </tr>
          </table>

          <div class="pas_20">
            <div class="right save_cancel">
              <button class="save_button float_right" type="submit">SAVE</button>
              <a href="#" class="jqmClose cancel_button float_right">CANCEL</a>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<!-- END edit_server_settings_dialog -->
<div id="resource_panel_template" class="template">
  <div class="resource_panel">
      <table width="93%">
        <col width="90%" />
        <col width="" />
        <tr>
          <td colspan="2">
            <h2>Memory Cache</h2>
          </td>
        </tr>
        <tr>
          <td class="dynamic-ram-quota">
            <div>
              Dynamic RAM Quota:
              <input type="text" name="dynamic-ram-quota" value="{%= h(V.ifNull(memoryQuota, 'unlimited')) %}"
                style="border:1px solid #ccd3d7; color:#7e7e80; font-size:10pt; height:25px; margin-left:5px; padding-left:5px; width:95px;" />
              <span style="color:#7e7e80; font-size:10pt;">MB</span>
              <span style="color:#7e7e80; font-size:10pt; margin-left:50px;">
                Total: {%= h(Math.floor(memoryTotal/1024/1024)) %} MB
              </span>
            </div>
          </td>
          <td>
            <!-- <a href="javascript:void();">
              <img src="../images/edit-button.png" alt="Edit" />
            </a> -->
          </td>
        </tr>
        <tr>
          <td>
            <h2>Solid State Storage</h2>
          </td>
          <td>
            <!-- <a href="javascript:NodeDialog.startAddLocationDialog('{%= h(escapeJS(node)) %}', 'ssd');"> -->
              <img src="../images/add-button.png" alt="Add" style="opacity:0.5;" />
            <!-- </a> -->
          </td>
        </tr>
        <tr>
          <td colspan="2">
            <div class="ssd_resource_container">
              <!-- {% if (storage['ssd'].length > 0) { %} -->
                  <!-- {% $.each(storage['ssd'], function () { %} -->
              <div class="resource-row">
                <div>Path: {%= h(this.path) %}</div>
                <div>
                  {%= h(this.quotaMb != 'none' ? ((this.quotaMb * 1024) + ' MB') : '[no&nbsp;quota]') %}
                </div>
                <div>
                  <a href="javascript:ServersSection.startRemoveLocationDialog('{%= node %}', '{%= h(this.path) %}');">Remove</a>
                </div>
                <br style="clear:both;" />
                  <!-- {% }); %} -->
              <!-- {% } else { %} -->
                None Configured
              <!-- {% }; %} -->
              </div>
            </div>
          </td>
        </tr>
        <tr>
          <td><h2>Disk Storage</h2>
          </td>
          <td>
            <!-- <a href="javascript:ServersSection.startAddLocationDialog('{%= h(escapeJS(node)) %}', 'hdd');"> -->
                <img src="../images/add-button.png" alt="Add" style="opacity:0.5;" />
            <!-- </a> -->
          </td>
        </tr>
        <tr>
          <td colspan="2">
            <div class="hdd_resource_container">
              <!-- {% if (storage['hdd'].length > 0) { %} -->
                  <!-- {% $.each(storage['hdd'], function () { %} -->
                  <div class="resource-row">
                    <div>
                      <label>Disk One Quota:</label>
                      <input type="text" name="memoryQuota" value="{%= V.ifNull(memoryQuota, '') %}" disabled />
                      <span style="color:#7e7e80; font-size:10pt;">{%= ViewHelpers.prepareQuantity(this.diskStats.sizeKBytes * 1024)[1] %}B</span>
                      <span style="color:#7e7e80; font-size:10pt; margin-left:50px;">
                        Total: {%= h(ViewHelpers.formatQuantity(this.diskStats.sizeKBytes * 1024, 'B', 1024, ' ')) %}
                      </span>
                      <br style="clear:both;" />
                    </div>
                    <div>
                      <label>Path:</label>
                      <input type="text" name="" value="{%= h(this.path) %}" class="path-box" disabled />
                      <br style="clear:both;" />
                    </div>
                    <div>
                      <!-- <a href="javascript:NodeDialog.startRemoveLocationDialog('{%= node %}', '{%= h(this.path) %}');">Remove</a> -->
                    </div>
                  </div>
                  <!-- {% }); %} -->
              <!-- {% } else { %} -->
                none configured
              <!-- {% }; %} -->
            </div>
          </td>
        </tr>
      </table>
  </div>
</div>
<!-- END resource_panel_template -->
<div class="jqmWindow" id="add_storage_location_dialog">
  <div class="lbox">
    <div class="top">
      <div class="top_left"></div>
      <div class="top_right"></div>
      <div class="top_center"></div>
    </div>
    <div class="center">
      <div class="pad">
        <p class="lbox_header add_storage_location_title">Add Storage Location</p>
        <div class="alert_red storage_location_error_message" style="display:none;">
          <div class="al_text">
            Invalid location or quota. Please try again.
          </div>
        </div>
        <form id="add_storage_location_form">
          <p><label><b>Path:</b><input type="text" name="path" class="inp" style="width:290px;"
                                    value="absolute path to directory on the server"></label></p>
          <p><label><b>Quota:</b><input type="text" name="quota" class="inp" style="width:40px;"></label></p>
          <div class="pas_20">
            <div class="right save_cancel">
              <button class="save_button float_right" type="submit">ADD</button>
              <a href="#" class="jqmClose cancel_button float_right">CANCEL</a>
            </div>
          </div>
        </form>
      </div>
    </div>
    <div class="bottom">
      <div class="bottom_left"></div>
      <div class="bottom_right"></div>
      <div class="bottom_center"></div>
    </div>
  </div>
</div>
<!-- END add_storage_location_dialog -->
<div class="jqmWindow" id="edit_server_memory_dialog">
  <div class="lbox">
    <div class="top">
      <div class="top_left"></div>
      <div class="top_right"></div>
      <div class="top_center"></div>
    </div>
    <div class="center">
      <div class="pad">
        <p class="lbox_header">Server Memory Cache</p>
        <div class="alert_red quota_error_message" style="display:none;">
          <div class="al_text">
            Invalid quota. Please try again.
          </div>
        </div>
        <form id="edit_server_memory_form">
          <p><label><b>Dynamic RAM Quota:</b>
                     <input type="text" name="quota" class="inp">
             </label></p>
          <div class="pas_20">
            <div class="right save_cancel">
              <button class="save_button float_right" type="submit">SAVE</button>
              <a href="#" class="jqmClose cancel_button float_right">CANCEL</a>
            </div>
          </div>
        </form>
      </div>
    </div>
    <div class="bottom">
      <div class="bottom_left"></div>
      <div class="bottom_right"></div>
      <div class="bottom_center"></div>
    </div>
  </div>
</div>
<!-- END edit_server_memory_dialog -->
<div class="jqmWindow" id="edit_server_license_dialog">
  <div class="lbox">
    <div class="top">
      <div class="top_left"></div>
      <div class="top_right"></div>
      <div class="top_center"></div>
    </div>
    <div class="center">
      <div class="pad">
        <p class="lbox_header">Edit Server License</p>
        <div class="alert_red license_failed_message" style="display:none;">
          <div class="al_text">
            Invalid license. Please try again.
          </div>
        </div>
        <form id="edit_server_license_form">
          <p><label><b>License Key:</b><input type="text" name="license" class="inp">
             </label></p>
          <div class="pas_20">
            <div class="right save_cancel">
              <button class="save_button float_right" type="submit">SAVE</button>
              <a href="#" class="jqmClose cancel_button float_right">CANCEL</a>
            </div>
          </div>
        </form>
      </div>
    </div>
    <div class="bottom">
      <div class="bottom_left"></div>
      <div class="bottom_right"></div>
      <div class="bottom_center"></div>
    </div>
  </div>
</div>
<!-- END edit_server_license_dialog -->
<div id="notice_template" class="template">
  <div class="shadow_box notice"><div class="top"><div><div>&nbsp;</div></div></div><div class="cnt"><div class="pad"><div class="content">
    <h2 class="header_2">NorthScale Message</h2>
    <div class="pad_10 success_msg">
      <p class="info_text">{%= h(text) %}</p>
    </div>
  </div></div></div><div class="bottom"><div><div>&nbsp;</div></div></div></div>
</div>
<div id="noticeErr_template" class="template">
  <div class="shadow_box notice"><div class="top"><div><div>&nbsp;</div></div></div><div class="cnt"><div class="pad"><div class="content">
    <h2 class="header_2">NorthScale Message</h2>
    <div class="pad_10 error_msg">
      <p class="info_text">{%= h(text) %}</p>
    </div>
  </div></div></div><div class="bottom"><div><div>&nbsp;</div></div></div></div>
</div>
<div class="popup_2">

</div>
</body>
</html>
